{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect}from'react';import{MapTo}from'@adobe/aem-react-editable-components';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";require('./index.css');export var HomePage=function HomePage(_ref){var title=_ref.title,subtitle=_ref.subtitle,_ref$logoImage=_ref.logoImage,logoImage=_ref$logoImage===void 0?{}:_ref$logoImage,_ref$backgroundImage=_ref.backgroundImage,backgroundImage=_ref$backgroundImage===void 0?{}:_ref$backgroundImage;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),lat=_useState2[0],setLat=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),long=_useState4[0],setLong=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var Card=function Card(_ref2){var weatherData=_ref2.weatherData;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:weatherData.name})})});};useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:navigator.geolocation.getCurrentPosition(function(position){setLat(position.coords.latitude);setLong(position.coords.longitude);});_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/weather/?lat=\").concat(lat,\"&lon=\").concat(long,\"&appid=\").concat(process.env.REACT_APP_API_KEY)).then(function(result){setData(result);console.log(data);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref3.apply(this,arguments);};}();fetchData();},[lat,long]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-item-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage.src,alt:\"logo\",className:\"compasso-logo-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:typeof data.main!='undefined'?/*#__PURE__*/_jsx(Card,{weatherData:data}):/*#__PURE__*/_jsx(\"div\",{children:\"error\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-container-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:backgroundImage.src,alt:\"logo\",className:\"background-image-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-title\",children:\"Our mission is\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Nossa miss\\xE3o \\xE9\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"to transform the world\"}),/*#__PURE__*/_jsx(\"p\",{children:\"transformar o mundo\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"building digital experiences\"}),/*#__PURE__*/_jsx(\"p\",{children:\"construindo experi\\xEAncias digitais\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"that enable our client's growth\"}),/*#__PURE__*/_jsx(\"p\",{children:\"que permitam o crescimento dos nossos clientes\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"footer\"})})]});};export default MapTo('reactapp/components/home-page')(HomePage);","map":{"version":3,"names":["React","useState","useEffect","MapTo","require","HomePage","title","subtitle","logoImage","backgroundImage","lat","setLat","long","setLong","data","setData","Card","weatherData","name","fetchData","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","fetch","process","env","REACT_APP_API_URL","REACT_APP_API_KEY","then","result","console","log","src","main"],"sources":["C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/src/components/HomePage/index.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { MapTo } from '@adobe/aem-react-editable-components';\r\nrequire('./index.css')\r\n\r\nexport const HomePage = ({ title, subtitle, logoImage = {}, backgroundImage = {} }) => {\r\n    const [lat, setLat] = useState([]);\r\n    const [long, setLong] = useState([]);\r\n    const [data, setData] = useState({});\r\n\r\n    const Card = ({ weatherData }) => (\r\n        <div>\r\n            <div>\r\n                <div >{weatherData.name}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            navigator.geolocation.getCurrentPosition(function (position) {\r\n                setLat(position.coords.latitude);\r\n                setLong(position.coords.longitude);\r\n            });\r\n\r\n            await fetch(`${process.env.REACT_APP_API_URL}/weather/?lat=${lat}&lon=${long}&appid=${process.env.REACT_APP_API_KEY}`)\r\n                .then(result => {\r\n                    setData(result)\r\n                    console.log(data);\r\n                });\r\n        }\r\n        fetchData();\r\n    }, [lat, long])\r\n\r\n    return (\r\n        <div className=\"home-container\">\r\n            <header className=\"header-item-1\">\r\n                <img src={logoImage.src} alt='logo' className=\"compasso-logo-2\" />\r\n                <div className=\"location\">\r\n                    {(typeof data.main != 'undefined') ? (\r\n                        <Card weatherData={data} />\r\n                    ) : (\r\n                        <div>error</div>\r\n                    )}\r\n                </div>\r\n            </header>\r\n            <div className=\"body-container-2\">\r\n                <img src={backgroundImage.src} alt='logo' className=\"background-image-2\" />\r\n                <div className=\"text-container\">\r\n                    <h1 className='text-title'>Our mission is</h1>\r\n                    <p>Nossa missão é</p>\r\n                    <h1>to transform the world</h1>\r\n                    <p>transformar o mundo</p>\r\n                    <h1>building digital experiences</h1>\r\n                    <p>construindo experiências digitais</p>\r\n                    <h1>that enable our client's growth</h1>\r\n                    <p>que permitam o crescimento dos nossos clientes</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-container\">\r\n                <h1>footer</h1>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MapTo('reactapp/components/home-page')(HomePage);\r\n\r\n"],"mappings":"4cAAA,gDACA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,KAAT,KAAsB,sCAAtB,C,wFACAC,OAAO,CAAC,aAAD,CAAP,CAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,MAA+D,IAA5DC,MAA4D,MAA5DA,KAA4D,CAArDC,QAAqD,MAArDA,QAAqD,qBAA3CC,SAA2C,CAA3CA,SAA2C,yBAA/B,EAA+B,0CAA3BC,eAA2B,CAA3BA,eAA2B,+BAAT,EAAS,sBACnF,cAAsBR,QAAQ,CAAC,EAAD,CAA9B,wCAAOS,GAAP,eAAYC,MAAZ,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAAwBZ,QAAQ,CAAC,EAAD,CAAhC,yCAAOa,IAAP,eAAaC,OAAb,eAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,WAAGC,YAAH,OAAGA,WAAH,oBACT,kCACI,kCACI,qBAAOA,WAAW,CAACC,IAAnB,EADJ,EADJ,EADS,EAAb,CAQAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,UAAS,6FAAG,qIACdC,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC,SAAUC,QAAV,CAAoB,CACzDZ,MAAM,CAACY,QAAQ,CAACC,MAAT,CAAgBC,QAAjB,CAAN,CACAZ,OAAO,CAACU,QAAQ,CAACC,MAAT,CAAgBE,SAAjB,CAAP,CACH,CAHD,EADc,sBAMRC,MAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,iBAAhB,0BAAkDpB,GAAlD,iBAA6DE,IAA7D,mBAA2EgB,OAAO,CAACC,GAAR,CAAYE,iBAAvF,EAAL,CACDC,IADC,CACI,SAAAC,MAAM,CAAI,CACZlB,OAAO,CAACkB,MAAD,CAAP,CACAC,OAAO,CAACC,GAAR,CAAYrB,IAAZ,EACH,CAJC,CANQ,uDAAH,kBAATK,UAAS,2CAAf,CAYAA,SAAS,GACZ,CAdQ,CAcN,CAACT,GAAD,CAAME,IAAN,CAdM,CAAT,CAgBA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,gBAAQ,SAAS,CAAC,eAAlB,wBACI,YAAK,GAAG,CAAEJ,SAAS,CAAC4B,GAApB,CAAyB,GAAG,CAAC,MAA7B,CAAoC,SAAS,CAAC,iBAA9C,EADJ,cAEI,YAAK,SAAS,CAAC,UAAf,UACM,MAAOtB,KAAI,CAACuB,IAAZ,EAAoB,WAArB,cACG,KAAC,IAAD,EAAM,WAAW,CAAEvB,IAAnB,EADH,cAGG,8BAJR,EAFJ,GADJ,cAWI,aAAK,SAAS,CAAC,kBAAf,wBACI,YAAK,GAAG,CAAEL,eAAe,CAAC2B,GAA1B,CAA+B,GAAG,CAAC,MAAnC,CAA0C,SAAS,CAAC,oBAApD,EADJ,cAEI,aAAK,SAAS,CAAC,gBAAf,wBACI,WAAI,SAAS,CAAC,YAAd,4BADJ,cAEI,2CAFJ,cAGI,8CAHJ,cAII,0CAJJ,cAKI,oDALJ,cAMI,2DANJ,cAOI,uDAPJ,cAQI,qEARJ,GAFJ,GAXJ,cAwBI,YAAK,SAAS,CAAC,kBAAf,uBACI,8BADJ,EAxBJ,GADJ,CA8BH,CA3DM,CA6DP,cAAejC,MAAK,CAAC,+BAAD,CAAL,CAAuCE,QAAvC,CAAf"},"metadata":{},"sourceType":"module"}