{"ast":null,"code":"import _classCallCheck from \"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { ModelClient } from '@adobe/aem-spa-page-model-manager';\n/**\n * Used to make react-server possible (localhost development).\n */\n\nvar LocalDevModelClient = /*#__PURE__*/function (_ModelClient) {\n  _inherits(LocalDevModelClient, _ModelClient);\n\n  var _super = _createSuper(LocalDevModelClient);\n\n  function LocalDevModelClient() {\n    _classCallCheck(this, LocalDevModelClient);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(LocalDevModelClient, [{\n    key: \"fetch\",\n    value: function (_fetch) {\n      function fetch(_x) {\n        return _fetch.apply(this, arguments);\n      }\n\n      fetch.toString = function () {\n        return _fetch.toString();\n      };\n\n      return fetch;\n    }(function (modelPath) {\n      if (!modelPath) {\n        var err = \"Fetching model rejected for path: \".concat(modelPath);\n        return Promise.reject(new Error(err));\n      } // Either the API host has been provided or we make an absolute request relative to the current host\n\n\n      var apihostPrefix = this._apiHost || '';\n      var url = \"\".concat(apihostPrefix).concat(modelPath);\n      return fetch(url, {\n        credentials: 'same-origin',\n        headers: {\n          'Authorization': process.env.REACT_APP_AEM_AUTHORIZATION_HEADER\n        }\n      }).then(function (response) {\n        if (response.status >= 200 && response.status < 300) {\n          return response.json();\n        }\n\n        return Promise.reject(response);\n      }).catch(function (error) {\n        return Promise.reject(error);\n      });\n    })\n  }]);\n\n  return LocalDevModelClient;\n}(ModelClient);\n\nexport { LocalDevModelClient as default };","map":{"version":3,"names":["ModelClient","LocalDevModelClient","modelPath","err","Promise","reject","Error","apihostPrefix","_apiHost","url","fetch","credentials","headers","process","env","REACT_APP_AEM_AUTHORIZATION_HEADER","then","response","status","json","catch","error"],"sources":["C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/src/LocalDevModelClient.js"],"sourcesContent":["import {ModelClient} from '@adobe/aem-spa-page-model-manager';\n\n/**\n * Used to make react-server possible (localhost development).\n */\nexport default class LocalDevModelClient extends ModelClient{\n\n    fetch(modelPath) {\n\n        if (!modelPath) {\n            const err = `Fetching model rejected for path: ${modelPath}`;\n\n            return Promise.reject(new Error(err));\n        }\n\n        // Either the API host has been provided or we make an absolute request relative to the current host\n        const apihostPrefix = this._apiHost || '';\n        const url = `${apihostPrefix}${modelPath}`;\n\n        return fetch(url, {\n            credentials: 'same-origin',\n            headers: {\n                'Authorization': process.env.REACT_APP_AEM_AUTHORIZATION_HEADER\n            }\n        }).then((response) => {\n            if ((response.status >= 200) && (response.status < 300)) {\n                return response.json() ;\n            }\n\n            return Promise.reject(response);\n        }).catch((error) => {\n            return Promise.reject(error);\n        });\n\n    }\n\n}"],"mappings":";;;;AAAA,SAAQA,WAAR,QAA0B,mCAA1B;AAEA;AACA;AACA;;IACqBC,mB;;;;;;;;;;;;;;;;;;;;;;;MAEjB,UAAMC,SAAN,EAAiB;MAEb,IAAI,CAACA,SAAL,EAAgB;QACZ,IAAMC,GAAG,+CAAwCD,SAAxC,CAAT;QAEA,OAAOE,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAUH,GAAV,CAAf,CAAP;MACH,CANY,CAQb;;;MACA,IAAMI,aAAa,GAAG,KAAKC,QAAL,IAAiB,EAAvC;MACA,IAAMC,GAAG,aAAMF,aAAN,SAAsBL,SAAtB,CAAT;MAEA,OAAOQ,KAAK,CAACD,GAAD,EAAM;QACdE,WAAW,EAAE,aADC;QAEdC,OAAO,EAAE;UACL,iBAAiBC,OAAO,CAACC,GAAR,CAAYC;QADxB;MAFK,CAAN,CAAL,CAKJC,IALI,CAKC,UAACC,QAAD,EAAc;QAClB,IAAKA,QAAQ,CAACC,MAAT,IAAmB,GAApB,IAA6BD,QAAQ,CAACC,MAAT,GAAkB,GAAnD,EAAyD;UACrD,OAAOD,QAAQ,CAACE,IAAT,EAAP;QACH;;QAED,OAAOf,OAAO,CAACC,MAAR,CAAeY,QAAf,CAAP;MACH,CAXM,EAWJG,KAXI,CAWE,UAACC,KAAD,EAAW;QAChB,OAAOjB,OAAO,CAACC,MAAR,CAAegB,KAAf,CAAP;MACH,CAbM,CAAP;IAeH,C;;;;EA7B4CrB,W;;SAA5BC,mB"},"metadata":{},"sourceType":"module"}