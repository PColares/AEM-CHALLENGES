{"ast":null,"code":"var _defineProperty = require(\"/home/pedro/Documentos/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\n\nvar _slicedToArray = require(\"/home/pedro/Documentos/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _createClass = require(\"/home/pedro/Documentos/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar _classCallCheck = require(\"/home/pedro/Documentos/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\n!function (t, e) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = e() : \"function\" == typeof define && define.amd ? define([], e) : \"object\" == typeof exports ? exports.aemSpaPageModelManager = e() : t.aemSpaPageModelManager = e();\n}(function () {\n  try {\n    return \"undefined\" != typeof self;\n  } catch (t) {\n    return !1;\n  }\n}() ? self : this, function () {\n  return function () {\n    \"use strict\";\n\n    var t = {\n      470: function _(t) {\n        function e(t) {\n          if (\"string\" != typeof t) throw new TypeError(\"Path must be a string. Received \" + JSON.stringify(t));\n        }\n\n        function r(t, e) {\n          for (var r, i = \"\", n = 0, o = -1, s = 0, a = 0; a <= t.length; ++a) {\n            if (a < t.length) r = t.charCodeAt(a);else {\n              if (47 === r) break;\n              r = 47;\n            }\n\n            if (47 === r) {\n              if (o === a - 1 || 1 === s) ;else if (o !== a - 1 && 2 === s) {\n                if (i.length < 2 || 2 !== n || 46 !== i.charCodeAt(i.length - 1) || 46 !== i.charCodeAt(i.length - 2)) if (i.length > 2) {\n                  var l = i.lastIndexOf(\"/\");\n\n                  if (l !== i.length - 1) {\n                    -1 === l ? (i = \"\", n = 0) : n = (i = i.slice(0, l)).length - 1 - i.lastIndexOf(\"/\"), o = a, s = 0;\n                    continue;\n                  }\n                } else if (2 === i.length || 1 === i.length) {\n                  i = \"\", n = 0, o = a, s = 0;\n                  continue;\n                }\n                e && (i.length > 0 ? i += \"/..\" : i = \"..\", n = 2);\n              } else i.length > 0 ? i += \"/\" + t.slice(o + 1, a) : i = t.slice(o + 1, a), n = a - o - 1;\n              o = a, s = 0;\n            } else 46 === r && -1 !== s ? ++s : s = -1;\n          }\n\n          return i;\n        }\n\n        var i = {\n          resolve: function resolve() {\n            for (var t, i = \"\", n = !1, o = arguments.length - 1; o >= -1 && !n; o--) {\n              var s;\n              o >= 0 ? s = arguments[o] : (void 0 === t && (t = process.cwd()), s = t), e(s), 0 !== s.length && (i = s + \"/\" + i, n = 47 === s.charCodeAt(0));\n            }\n\n            return i = r(i, !n), n ? i.length > 0 ? \"/\" + i : \"/\" : i.length > 0 ? i : \".\";\n          },\n          normalize: function normalize(t) {\n            if (e(t), 0 === t.length) return \".\";\n            var i = 47 === t.charCodeAt(0),\n                n = 47 === t.charCodeAt(t.length - 1);\n            return 0 !== (t = r(t, !i)).length || i || (t = \".\"), t.length > 0 && n && (t += \"/\"), i ? \"/\" + t : t;\n          },\n          isAbsolute: function isAbsolute(t) {\n            return e(t), t.length > 0 && 47 === t.charCodeAt(0);\n          },\n          join: function join() {\n            if (0 === arguments.length) return \".\";\n\n            for (var t, r = 0; r < arguments.length; ++r) {\n              var n = arguments[r];\n              e(n), n.length > 0 && (void 0 === t ? t = n : t += \"/\" + n);\n            }\n\n            return void 0 === t ? \".\" : i.normalize(t);\n          },\n          relative: function relative(t, r) {\n            if (e(t), e(r), t === r) return \"\";\n            if ((t = i.resolve(t)) === (r = i.resolve(r))) return \"\";\n\n            for (var n = 1; n < t.length && 47 === t.charCodeAt(n); ++n) {\n              ;\n            }\n\n            for (var o = t.length, s = o - n, a = 1; a < r.length && 47 === r.charCodeAt(a); ++a) {\n              ;\n            }\n\n            for (var l = r.length - a, h = s < l ? s : l, c = -1, d = 0; d <= h; ++d) {\n              if (d === h) {\n                if (l > h) {\n                  if (47 === r.charCodeAt(a + d)) return r.slice(a + d + 1);\n                  if (0 === d) return r.slice(a + d);\n                } else s > h && (47 === t.charCodeAt(n + d) ? c = d : 0 === d && (c = 0));\n\n                break;\n              }\n\n              var u = t.charCodeAt(n + d);\n              if (u !== r.charCodeAt(a + d)) break;\n              47 === u && (c = d);\n            }\n\n            var p = \"\";\n\n            for (d = n + c + 1; d <= o; ++d) {\n              d !== o && 47 !== t.charCodeAt(d) || (0 === p.length ? p += \"..\" : p += \"/..\");\n            }\n\n            return p.length > 0 ? p + r.slice(a + c) : (a += c, 47 === r.charCodeAt(a) && ++a, r.slice(a));\n          },\n          _makeLong: function _makeLong(t) {\n            return t;\n          },\n          dirname: function dirname(t) {\n            if (e(t), 0 === t.length) return \".\";\n\n            for (var r = t.charCodeAt(0), i = 47 === r, n = -1, o = !0, s = t.length - 1; s >= 1; --s) {\n              if (47 === (r = t.charCodeAt(s))) {\n                if (!o) {\n                  n = s;\n                  break;\n                }\n              } else o = !1;\n            }\n\n            return -1 === n ? i ? \"/\" : \".\" : i && 1 === n ? \"//\" : t.slice(0, n);\n          },\n          basename: function basename(t, r) {\n            if (void 0 !== r && \"string\" != typeof r) throw new TypeError('\"ext\" argument must be a string');\n            e(t);\n            var i,\n                n = 0,\n                o = -1,\n                s = !0;\n\n            if (void 0 !== r && r.length > 0 && r.length <= t.length) {\n              if (r.length === t.length && r === t) return \"\";\n              var a = r.length - 1,\n                  l = -1;\n\n              for (i = t.length - 1; i >= 0; --i) {\n                var h = t.charCodeAt(i);\n\n                if (47 === h) {\n                  if (!s) {\n                    n = i + 1;\n                    break;\n                  }\n                } else -1 === l && (s = !1, l = i + 1), a >= 0 && (h === r.charCodeAt(a) ? -1 == --a && (o = i) : (a = -1, o = l));\n              }\n\n              return n === o ? o = l : -1 === o && (o = t.length), t.slice(n, o);\n            }\n\n            for (i = t.length - 1; i >= 0; --i) {\n              if (47 === t.charCodeAt(i)) {\n                if (!s) {\n                  n = i + 1;\n                  break;\n                }\n              } else -1 === o && (s = !1, o = i + 1);\n            }\n\n            return -1 === o ? \"\" : t.slice(n, o);\n          },\n          extname: function extname(t) {\n            e(t);\n\n            for (var r = -1, i = 0, n = -1, o = !0, s = 0, a = t.length - 1; a >= 0; --a) {\n              var l = t.charCodeAt(a);\n              if (47 !== l) -1 === n && (o = !1, n = a + 1), 46 === l ? -1 === r ? r = a : 1 !== s && (s = 1) : -1 !== r && (s = -1);else if (!o) {\n                i = a + 1;\n                break;\n              }\n            }\n\n            return -1 === r || -1 === n || 0 === s || 1 === s && r === n - 1 && r === i + 1 ? \"\" : t.slice(r, n);\n          },\n          format: function format(t) {\n            if (null === t || \"object\" != typeof t) throw new TypeError('The \"pathObject\" argument must be of type Object. Received type ' + typeof t);\n            return function (t, e) {\n              var r = e.dir || e.root,\n                  i = e.base || (e.name || \"\") + (e.ext || \"\");\n              return r ? r === e.root ? r + i : r + \"/\" + i : i;\n            }(0, t);\n          },\n          parse: function parse(t) {\n            e(t);\n            var r = {\n              root: \"\",\n              dir: \"\",\n              base: \"\",\n              ext: \"\",\n              name: \"\"\n            };\n            if (0 === t.length) return r;\n            var i,\n                n = t.charCodeAt(0),\n                o = 47 === n;\n            o ? (r.root = \"/\", i = 1) : i = 0;\n\n            for (var s = -1, a = 0, l = -1, h = !0, c = t.length - 1, d = 0; c >= i; --c) {\n              if (47 !== (n = t.charCodeAt(c))) -1 === l && (h = !1, l = c + 1), 46 === n ? -1 === s ? s = c : 1 !== d && (d = 1) : -1 !== s && (d = -1);else if (!h) {\n                a = c + 1;\n                break;\n              }\n            }\n\n            return -1 === s || -1 === l || 0 === d || 1 === d && s === l - 1 && s === a + 1 ? -1 !== l && (r.base = r.name = 0 === a && o ? t.slice(1, l) : t.slice(a, l)) : (0 === a && o ? (r.name = t.slice(1, s), r.base = t.slice(1, l)) : (r.name = t.slice(a, s), r.base = t.slice(a, l)), r.ext = t.slice(s, l)), a > 0 ? r.dir = t.slice(0, a - 1) : o && (r.dir = \"/\"), r;\n          },\n          sep: \"/\",\n          delimiter: \":\",\n          win32: null,\n          posix: null\n        };\n        i.posix = i, t.exports = i;\n      },\n      873: function _(t, e, r) {\n        r.r(e), r.d(e, {\n          AEM_MODE: function AEM_MODE() {\n            return l;\n          },\n          AuthoringUtils: function AuthoringUtils() {\n            return y;\n          },\n          Constants: function Constants() {\n            return c;\n          },\n          ModelClient: function ModelClient() {\n            return D;\n          },\n          ModelManager: function ModelManager() {\n            return w;\n          },\n          PathUtils: function PathUtils() {\n            return C;\n          }\n        });\n\n        var i = /*#__PURE__*/_createClass(function i() {\n          _classCallCheck(this, i);\n        });\n\n        i.PAGE_MODEL_INIT = \"cq-pagemodel-init\", i.PAGE_MODEL_LOADED = \"cq-pagemodel-loaded\", i.PAGE_MODEL_UPDATE = \"cq-pagemodel-update\", i.PAGE_MODEL_ROUTE_CHANGED = \"cq-pagemodel-route-changed\";\n        var n = i;\n\n        var o = /*#__PURE__*/_createClass(function o() {\n          _classCallCheck(this, o);\n        });\n\n        o.PAGE_MODEL_ROOT_URL = \"cq:pagemodel_root_url\", o.PAGE_MODEL_ROUTE_FILTERS = \"cq:pagemodel_route_filters\", o.PAGE_MODEL_ROUTER = \"cq:pagemodel_router\", o.WCM_MODE = \"cq:wcmmode\", o.WCM_DATA_TYPE = \"cq:datatype\";\n        var s = o;\n\n        var a = /*#__PURE__*/_createClass(function a() {\n          _classCallCheck(this, a);\n        });\n\n        var l, h;\n        a.TYPE_PROP = \":type\", a.ITEMS_PROP = \":items\", a.ITEMS_ORDER_PROP = \":itemsOrder\", a.PATH_PROP = \":path\", a.CHILDREN_PROP = \":children\", a.HIERARCHY_TYPE_PROP = \":hierarchyType\", a.JCR_CONTENT = \"jcr:content\", function (t) {\n          t.EDIT = \"edit\", t.PREVIEW = \"preview\", t.DISABLED = \"disabled\";\n        }(l || (l = {})), function (t) {\n          t.JS = \"script\", t.STYLESHEET = \"stylesheet\";\n        }(h || (h = {}));\n\n        var c = a,\n            d = require(\"clone\");\n\n        var u = r.n(d),\n            p = r(470);\n\n        var f = require(\"url\");\n\n        var g = r.n(f);\n\n        var _ = /*#__PURE__*/_createClass(function _() {\n          _classCallCheck(this, _);\n        });\n\n        _.DEFAULT_SLING_MODEL_SELECTOR = \"model\", _.DEFAULT_MODEL_JSON_EXTENSION = \".\".concat(_.DEFAULT_SLING_MODEL_SELECTOR, \".json\");\n        var m = _,\n            P = /(?:\\/)(?:content|apps|libs|etc|etc.clientlibs|conf|mnt\\/overlay)(?:\\/)/,\n            E = \"(.+)/\".concat(c.JCR_CONTENT, \"/(.+)\"),\n            M = \"http://dummy\";\n\n        var C = /*#__PURE__*/function () {\n          function C() {\n            _classCallCheck(this, C);\n          }\n\n          _createClass(C, null, [{\n            key: \"isBrowser\",\n            value: function isBrowser() {\n              return \"undefined\" != typeof window;\n            }\n          }, {\n            key: \"getContextPath\",\n            value: function getContextPath(t) {\n              var e = t || this.getCurrentPathname();\n              if (!e) return \"\";\n              var r = e.match(P),\n                  i = null === r ? -1 : r.index || -1;\n              return i > 0 ? e.slice(0, i) : \"\";\n            }\n          }, {\n            key: \"adaptPagePath\",\n            value: function adaptPagePath(t, e) {\n              if (!t) return \"\";\n              var r = C.internalize(t);\n              return e && r === C.sanitize(e) ? \"\" : r;\n            }\n          }, {\n            key: \"externalize\",\n            value: function externalize(t) {\n              var e = this.getContextPath();\n              return t.startsWith(e) ? t : \"\".concat(e).concat(t);\n            }\n          }, {\n            key: \"internalize\",\n            value: function internalize(t) {\n              if (!t || \"string\" != typeof t) return \"\";\n              var e = this.getContextPath();\n              return t.replace(new RegExp(\"^\".concat(e, \"/\")), \"/\");\n            }\n          }, {\n            key: \"getMetaPropertyValue\",\n            value: function getMetaPropertyValue(t) {\n              var e = null;\n\n              if (this.isBrowser()) {\n                var _r = document.head.querySelector(\"meta[property=\\\"\".concat(t, \"\\\"]\"));\n\n                e = _r ? _r.getAttribute(\"content\") : null;\n              }\n\n              return e;\n            }\n          }, {\n            key: \"convertToModelUrl\",\n            value: function convertToModelUrl(t) {\n              return t && t.replace && t.replace(/\\.htm(l)?$/, m.DEFAULT_MODEL_JSON_EXTENSION);\n            }\n          }, {\n            key: \"getCurrentPageModelUrl\",\n            value: function getCurrentPageModelUrl() {\n              var t = this.getCurrentPathname();\n              var e = null;\n              return t && (e = this.convertToModelUrl(t) || null), e;\n            }\n          }, {\n            key: \"getModelUrl\",\n            value: function getModelUrl(t) {\n              if (t && t.replace) return this.convertToModelUrl(t);\n              return this.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL) || this.getCurrentPageModelUrl();\n            }\n          }, {\n            key: \"sanitize\",\n            value: function sanitize(t) {\n              if (!t || \"string\" != typeof t) return null;\n              var e = g().parse(t, !1, !0).pathname;\n\n              if (e) {\n                e = this.internalize(e);\n\n                var _t = e.indexOf(\".\");\n\n                _t > -1 && (e = e.substr(0, _t)), e = (0, p.normalize)(e);\n              }\n\n              return e;\n            }\n          }, {\n            key: \"addExtension\",\n            value: function addExtension(t, e) {\n              if (!e || e.length < 1) return t;\n              if (e.startsWith(\".\") || (e = \".\" + e), !t || t.length < 1 || t.indexOf(e) > -1) return t;\n              var r = this.normalize(t);\n              var i = new URL(r, M);\n              var n = this.sanitize(i.pathname);\n              n = i.origin === M ? n : i.origin + n;\n\n              var o = this._extractPathWithoutResource(i.pathname);\n\n              return o = this._replaceExtension(o, e), r = (n + \".\" + o + i.search).replace(/\\.\\./g, \".\"), r;\n            }\n          }, {\n            key: \"_extractPathWithoutResource\",\n            value: function _extractPathWithoutResource(t) {\n              var e = t.split(\".\");\n              return e.shift(), e.join(\".\");\n            }\n          }, {\n            key: \"_replaceExtension\",\n            value: function _replaceExtension(t, e) {\n              if (t.length < 1) return e;\n              var r = t.split(\"/\"),\n                  i = r[0].split(\".\");\n              var n = i.pop();\n              n = n ? n.replace(/htm(l)?/, \"\") : \"\";\n              var o = i.join(\".\") + \".\" + n + e;\n              return r.shift(), r.length > 0 && (o += r.join(\"/\")), o;\n            }\n          }, {\n            key: \"addSelector\",\n            value: function addSelector(t, e) {\n              if (!e || e.length < 1) return t;\n              if (e.startsWith(\".\") || (e = \".\" + e), !t || t.length < 1 || t.indexOf(e) > -1) return t;\n              var r = t.indexOf(\".\") || t.length;\n              return r < 0 ? t + e : t.slice(0, r) + e + t.slice(r, t.length);\n            }\n          }, {\n            key: \"getCurrentPathname\",\n            value: function getCurrentPathname() {\n              return this.isBrowser() ? window.location.pathname : null;\n            }\n          }, {\n            key: \"getCurrentURL\",\n            value: function getCurrentURL() {\n              return this.isBrowser() ? window.location.href : \"\";\n            }\n          }, {\n            key: \"dispatchGlobalCustomEvent\",\n            value: function dispatchGlobalCustomEvent(t, e) {\n              this.isBrowser() && window.dispatchEvent(new CustomEvent(t, e));\n            }\n          }, {\n            key: \"join\",\n            value: function join(t) {\n              return t ? this.normalize(t.filter(function (t) {\n                return t;\n              }).join(\"/\")) : \"\";\n            }\n          }, {\n            key: \"normalize\",\n            value: function normalize(t) {\n              return t ? t.replace(/\\/+/g, \"/\") : \"\";\n            }\n          }, {\n            key: \"makeAbsolute\",\n            value: function makeAbsolute(t) {\n              return t && \"string\" == typeof t ? t.startsWith(\"/\") ? t : \"/\" + t : \"\";\n            }\n          }, {\n            key: \"makeRelative\",\n            value: function makeRelative(t) {\n              return t && \"string\" == typeof t ? t.startsWith(\"/\") ? t.slice(1) : t : \"\";\n            }\n          }, {\n            key: \"getParentNodePath\",\n            value: function getParentNodePath(t) {\n              if (t && t.length > 0) {\n                var _e = t.lastIndexOf(\"/\") + 1;\n\n                if (_e < t.length) return t.substring(0, _e - 1);\n              }\n\n              return null;\n            }\n          }, {\n            key: \"isItem\",\n            value: function isItem(t) {\n              return new RegExp(E).test(t);\n            }\n          }, {\n            key: \"getNodeName\",\n            value: function getNodeName(t) {\n              return (\"string\" == typeof t ? t.replace(/\\/+/g, \"/\").split(/\\//).filter(Boolean) : []).pop() || null;\n            }\n          }, {\n            key: \"subpath\",\n            value: function subpath(t, e) {\n              if (!t) return \"\";\n              var r = C.makeRelative(t).split(\"/\"),\n                  i = C.makeRelative(e).split(\"/\");\n              if (r.length < i.length) return t;\n              var n;\n\n              for (n = 0; n < i.length && r[n] === i[n]; ++n) {\n                ;\n              }\n\n              return n === i.length ? r.slice(n).join(\"/\") : t;\n            }\n          }, {\n            key: \"splitByDelimitators\",\n            value: function splitByDelimitators(t, e) {\n              var r = [t];\n              return e.forEach(function (t) {\n                var e = [];\n                var i = C.normalize(C.makeAbsolute(t) + \"/\");\n                r.forEach(function (r) {\n                  if (e = e.concat(r.split(i)), r.endsWith(t)) {\n                    var _r2 = e.splice(e.length - 1, 1)[0];\n                    _r2 !== t && (e = e.concat(_r2.split(C.makeAbsolute(t))));\n                  }\n\n                  e = e.filter(function (t) {\n                    return t;\n                  });\n                }), r = e;\n              }), r;\n            }\n          }, {\n            key: \"_getJCRPath\",\n            value: function _getJCRPath(t, e) {\n              return [t, c.JCR_CONTENT, e].join(\"/\");\n            }\n          }, {\n            key: \"splitPageContentPaths\",\n            value: function splitPageContentPaths(t) {\n              if (!t && \"string\" != typeof t) return;\n              var e = t.split(\"/\".concat(c.JCR_CONTENT, \"/\")),\n                  r = {\n                pagePath: e[0]\n              };\n              return e.length > 1 && (r.itemPath = e[1]), r;\n            }\n          }, {\n            key: \"trimStrings\",\n            value: function trimStrings(t, e) {\n              return e.forEach(function (e) {\n                for (; t.startsWith(e);) {\n                  t = C.makeRelative(t.slice(e.length));\n                }\n\n                for (; t.endsWith(e);) {\n                  (t = t.slice(0, t.length - e.length)).endsWith(\"/\") && (t = t.slice(0, t.length - 1));\n                }\n              }), t;\n            }\n          }, {\n            key: \"_getStartStrings\",\n            value: function _getStartStrings(t, e) {\n              var r = \"\";\n              return e.forEach(function (e) {\n                for (; t.startsWith(e);) {\n                  t = C.makeRelative(t.slice(e.length)), r = \"\".concat(r, \"/\").concat(e);\n                }\n              }), C.makeRelative(r);\n            }\n          }, {\n            key: \"toAEMPath\",\n            value: function toAEMPath(t, e, r) {\n              if (window.location.origin === e) {\n                var _e2 = \"(/editor.html)?(/content/\".concat(r = r.replace(/^\\/|\\/$/g, \"\"), \")?\");\n\n                if (t.indexOf(_e2) < 0) return \"\".concat(_e2).concat(t, \"(.html)?\");\n              }\n\n              return t;\n            }\n          }]);\n\n          return C;\n        }();\n\n        function O(t) {\n          C.dispatchGlobalCustomEvent(n.PAGE_MODEL_LOADED, {\n            detail: {\n              model: u()(t)\n            }\n          });\n        }\n\n        var R = /*#__PURE__*/function () {\n          function R(t) {\n            var _this = this;\n\n            _classCallCheck(this, R);\n\n            this._modelManager = t, this._windowListener = function (t) {\n              t && t.detail && t.detail.msg ? _this._updateModel(t.detail.msg) : console.error(\"EditorService.js\", \"No message passed to cq-pagemodel-update\", t);\n            }, C.isBrowser() && window.addEventListener(n.PAGE_MODEL_UPDATE, this._windowListener);\n          }\n\n          _createClass(R, [{\n            key: \"_updateModel\",\n            value: function _updateModel(t) {\n              if (!t || !t.cmd || !t.path) return void console.error(\"PageModelManager.js\", \"Not enough data received to update the page model\");\n              var e = t.path,\n                  r = t.cmd,\n                  i = u()(t.data);\n              var n, o, s;\n              var a = C.getParentNodePath(e);\n\n              switch (r) {\n                case \"replace\":\n                  this._modelManager.modelStore.setData(e, i), this._modelManager._notifyListeners(e);\n                  break;\n\n                case \"delete\":\n                  this._modelManager.modelStore.removeData(e), a && this._modelManager._notifyListeners(a);\n                  break;\n\n                case \"insertBefore\":\n                  s = !0;\n\n                case \"insertAfter\":\n                  n = C.getNodeName(e), a && (o = a + \"/\" + i.key, this._modelManager.modelStore.insertData(o, i.value, n, s), this._modelManager._notifyListeners(a));\n                  break;\n\n                default:\n                  console.log(\"EditorClient\", \"unsupported command:\", r);\n              }\n\n              O(this._modelManager.modelStore.dataMap);\n            }\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              C.isBrowser() && window.removeEventListener(n.PAGE_MODEL_UPDATE, this._windowListener);\n            }\n          }]);\n\n          return R;\n        }();\n\n        var D = /*#__PURE__*/function () {\n          function D(t) {\n            _classCallCheck(this, D);\n\n            this._apiHost = t || null;\n          }\n\n          _createClass(D, [{\n            key: \"apiHost\",\n            get: function get() {\n              return this._apiHost;\n            }\n          }, {\n            key: \"fetch\",\n            value: function (_fetch) {\n              function fetch(_x) {\n                return _fetch.apply(this, arguments);\n              }\n\n              fetch.toString = function () {\n                return _fetch.toString();\n              };\n\n              return fetch;\n            }(function (t) {\n              if (!t) {\n                var _e3 = \"Fetching model rejected for path: \" + t;\n\n                return Promise.reject(new Error(_e3));\n              }\n\n              var e = this._apiHost || \"\";\n              return fetch(\"\".concat(e).concat(t), {\n                credentials: \"same-origin\"\n              }).then(function (t) {\n                if (t.status >= 200 && t.status < 300) return t.json();\n                throw {\n                  response: t\n                };\n              }).catch(function (t) {\n                return Promise.reject(t);\n              });\n            })\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              this._apiHost = null;\n            }\n          }]);\n\n          return D;\n        }();\n\n        var v = /*#__PURE__*/function () {\n          function v(t, e) {\n            _classCallCheck(this, v);\n\n            this._data = null, this._rootPath = null, this._data = {}, t && this.initialize(t, e || {}), this._pageContentDelimiter = [c.JCR_CONTENT];\n          }\n\n          _createClass(v, [{\n            key: \"initialize\",\n            value: function initialize(t, e) {\n              e && (this._data = e), this._rootPath = t;\n            }\n          }, {\n            key: \"rootPath\",\n            get: function get() {\n              return this._rootPath || \"\";\n            }\n          }, {\n            key: \"dataMap\",\n            get: function get() {\n              return this._data;\n            }\n          }, {\n            key: \"setData\",\n            value: function setData(t) {\n              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n              var r = C.getNodeName(t);\n\n              if (r) {\n                var _i = this.getData(C.getParentNodePath(t), !1);\n\n                if (_i && _i[c.ITEMS_PROP]) {\n                  var _t2 = u()(e),\n                      _n = _i[c.ITEMS_PROP] || {};\n\n                  _n[r] && Object.keys(_n[r]).forEach(function (e) {\n                    return _t2.value[e] = _t2.value[e] || \"\";\n                  }), _n[r] = _t2.value, _i[c.ITEMS_PROP] = _n;\n                }\n              }\n            }\n          }, {\n            key: \"getData\",\n            value: function getData(t) {\n              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !0;\n              if (!t && \"string\" != typeof t) return e ? u()(this._data) : this._data;\n              if (t === this._rootPath || t === \"\".concat(this._rootPath, \"/\").concat(c.JCR_CONTENT)) return e ? u()(this._data) : this._data;\n              var r = C.splitPageContentPaths(t);\n\n              if (r) {\n                var _t3 = this._getPageData(r.pagePath);\n\n                if (!_t3 || !r.itemPath) return e ? u()(_t3) : _t3;\n\n                var _i2 = this._findItemData(r.itemPath, _t3);\n\n                if (_i2) return e ? u()(_i2.data) : _i2.data;\n              }\n            }\n          }, {\n            key: \"insertData\",\n            value: function insertData(t, e, r) {\n              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : !1;\n              if (e = u()(e), !t) return void console.warn(\"No path provided for data: \" + e);\n              if (!C.isItem(t) && this._data) return this._data[c.CHILDREN_PROP] || (this._data[c.CHILDREN_PROP] = {}), void (this._data[c.CHILDREN_PROP][t] = e);\n              var n = C.splitPageContentPaths(t);\n\n              if (n && n.itemPath) {\n                var _t4 = this._getPageData(n.pagePath),\n                    _o = this._findItemData(n.itemPath, _t4).parent || _t4 || this._data,\n                    _s = C.getNodeName(n.itemPath);\n\n                if (null != _s && _o && Object.prototype.hasOwnProperty.call(_o, c.ITEMS_PROP)) {\n                  var _t5 = _o[c.ITEMS_PROP];\n\n                  if (_t5) {\n                    _t5[_s] = e;\n                    var _n2 = _o[c.ITEMS_ORDER_PROP];\n\n                    if (null != _n2 && _n2.length > 0 && null != r) {\n                      var _t6 = _n2.indexOf(r);\n\n                      _t6 > -1 ? _n2.splice(i ? _t6 : _t6 + 1, 0, _s) : _n2.push(_s);\n                    }\n                  }\n                }\n              }\n            }\n          }, {\n            key: \"removeData\",\n            value: function removeData(t) {\n              if (!t) return null;\n              if (!C.isItem(t) && this._data && this._data[c.CHILDREN_PROP]) return delete this._data[c.CHILDREN_PROP][t], null;\n              var e = C.splitPageContentPaths(t);\n\n              if (e && e.itemPath) {\n                var _t7 = this._getPageData(e.pagePath),\n                    _r3 = this._findItemData(e.itemPath, _t7);\n\n                if (_r3.data && _r3 && _r3.parent && Object.prototype.hasOwnProperty.call(_r3.parent, c.ITEMS_PROP)) {\n                  var _t8 = _r3.parent,\n                      _i3 = _t8[c.ITEMS_PROP],\n                      _n3 = C.getNodeName(e.itemPath);\n\n                  if (_n3) {\n                    _i3 && delete _i3[_n3], delete _r3.data, delete _r3.parent;\n                    var _e4 = _t8[c.ITEMS_ORDER_PROP];\n\n                    if (_e4 && _e4.length > 0) {\n                      var _t9 = _e4.indexOf(_n3);\n\n                      _e4.splice(_t9, 1);\n                    }\n\n                    return _r3.parentPath ? _r3.parentPath : null;\n                  }\n                }\n              }\n\n              return console.warn(\"Item for path \".concat(t, \" was not found! Nothing to remove then.\")), null;\n            }\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              this._data = null, this._rootPath = null, this._pageContentDelimiter = null;\n            }\n          }, {\n            key: \"_findItemData\",\n            value: function _findItemData(t) {\n              var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this._data;\n              var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n              var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : \"\";\n              var n = {\n                parent: r,\n                parentPath: i\n              };\n              if (!e) throw new Error(\"Assertion error: No data provided. This should never happen.\");\n              var o = e[c.ITEMS_PROP];\n              if (!o) return n;\n\n              for (var _e5 in o) {\n                if (!Object.prototype.hasOwnProperty.call(o, _e5)) continue;\n                var _r4 = o[_e5];\n                if (_e5 === t) return n.data = o[_e5], n.key = _e5, n;\n                {\n                  var _n4 = C.subpath(t, _e5);\n\n                  if (!this._pageContentDelimiter) throw new Error(\"_pageContentDelimiter not set. this should never happen as its set in constructor.\");\n                  {\n                    var _o2 = C._getStartStrings(_n4, this._pageContentDelimiter),\n                        _s2 = C.join([i, _e5, _o2]);\n\n                    if (_n4 = C.trimStrings(_n4, this._pageContentDelimiter), _n4 !== t) {\n                      var _t10 = this._findItemData(_n4, _r4, _r4, _s2);\n\n                      if (_t10) return _t10;\n                    }\n                  }\n                }\n              }\n\n              return n;\n            }\n          }, {\n            key: \"_getPageData\",\n            value: function _getPageData(t) {\n              if (!this._data) return;\n              if (\"\" === t || t === this._data[c.PATH_PROP] || t === this.rootPath) return this._data;\n              var e = this._data[c.CHILDREN_PROP];\n              return e && e[t];\n            }\n          }]);\n\n          return v;\n        }();\n\n        var y = /*#__PURE__*/function () {\n          function y(t) {\n            _classCallCheck(this, y);\n\n            this._apiDomain = t;\n          }\n\n          _createClass(y, [{\n            key: \"getApiDomain\",\n            value: function getApiDomain() {\n              return this._apiDomain;\n            }\n          }, {\n            key: \"getAemLibraries\",\n            value: function getAemLibraries() {\n              var t = document.createDocumentFragment();\n              if (!y.isRemoteApp() || !y.isEditMode()) return t;\n              var e = this.prependDomain(y.AUTHORING_LIBRARIES.JS),\n                  r = this.prependDomain(y.AUTHORING_LIBRARIES.CSS),\n                  i = y.AUTHORING_LIBRARIES.META;\n              return t.append(this.generateScriptElements(e)), t.append(this.generateLinkElements(r)), t.append(this.generateMetaElements(i)), t;\n            }\n          }, {\n            key: \"setOnLoadCallback\",\n            value: function setOnLoadCallback(t, e) {\n              var r = t.querySelectorAll(\"script\");\n              r.length ? r[r.length - 1].onload = function () {\n                e();\n              } : e();\n            }\n          }, {\n            key: \"generateMetaElements\",\n            value: function generateMetaElements(t) {\n              var e = document.createDocumentFragment();\n              return Object.entries(t).forEach(function (t) {\n                var _t11 = _slicedToArray(t, 2),\n                    r = _t11[0],\n                    i = _t11[1],\n                    n = document.createElement(\"meta\");\n\n                n.setAttribute(\"property\", r), n.content = i, e.appendChild(n);\n              }), e;\n            }\n          }, {\n            key: \"generateLinkElements\",\n            value: function generateLinkElements(t) {\n              var e = document.createDocumentFragment();\n              return t.forEach(function (t) {\n                var r = document.createElement(\"link\");\n                r.type = \"text/css\", r.rel = \"stylesheet\", r.href = t, e.appendChild(r);\n              }), e;\n            }\n          }, {\n            key: \"generateScriptElements\",\n            value: function generateScriptElements(t) {\n              var e = document.createDocumentFragment();\n              return t.forEach(function (t) {\n                var r = document.createElement(\"script\");\n                r.type = \"text/javascript\", r.src = t, r.async = !1, e.appendChild(r);\n              }), e;\n            }\n          }, {\n            key: \"prependDomain\",\n            value: function prependDomain(t) {\n              var e = [],\n                  r = this.getApiDomain();\n              return t.forEach(function (t) {\n                e.push(\"\".concat(r || \"\").concat(t));\n              }), e;\n            }\n          }], [{\n            key: \"isMode\",\n            value: function isMode(t) {\n              var e = C.getMetaPropertyValue(s.WCM_MODE) === t,\n                  r = C.isBrowser() && y.getWCMModeFromURL() === t;\n              return e || r;\n            }\n          }, {\n            key: \"isEditMode\",\n            value: function isEditMode() {\n              return y.isMode(l.EDIT);\n            }\n          }, {\n            key: \"isPreviewMode\",\n            value: function isPreviewMode() {\n              return y.isMode(l.PREVIEW);\n            }\n          }, {\n            key: \"isRemoteApp\",\n            value: function isRemoteApp() {\n              try {\n                return !!new URL(C.getCurrentURL()).searchParams.get(s.WCM_MODE);\n              } catch (t) {}\n\n              return !1;\n            }\n          }, {\n            key: \"getWCMModeFromURL\",\n            value: function getWCMModeFromURL() {\n              var t;\n\n              try {\n                return t = new URL(C.getCurrentURL()), t.searchParams.get(s.WCM_MODE) || \"\";\n              } catch (t) {}\n\n              return \"\";\n            }\n          }, {\n            key: \"isInEditor\",\n            value: function isInEditor() {\n              return y.isEditMode() || y.isPreviewMode() || y.isRemoteApp();\n            }\n          }]);\n\n          return y;\n        }();\n\n        y.EDITOR_CLIENTLIB_PATH = \"/etc.clientlibs/cq/gui/components/authoring/editors/clientlibs/\", y.AUTHORING_LIBRARIES = {\n          JS: [y.EDITOR_CLIENTLIB_PATH + \"internal/messaging.js\", y.EDITOR_CLIENTLIB_PATH + \"utils.js\", y.EDITOR_CLIENTLIB_PATH + \"internal/page.js\", y.EDITOR_CLIENTLIB_PATH + \"internal/pagemodel/messaging.js\"],\n          CSS: [y.EDITOR_CLIENTLIB_PATH + \"internal/page.css\"],\n          META: _defineProperty({}, s.WCM_DATA_TYPE, \"JSON\")\n        };\n        var w = new ( /*#__PURE__*/function () {\n          function _class() {\n            _classCallCheck(this, _class);\n\n            this._listenersMap = {}, this._fetchPromises = {}, this._modelPaths = {};\n          }\n\n          _createClass(_class, [{\n            key: \"modelClient\",\n            get: function get() {\n              if (!this._modelClient) throw new Error(\"ModelClient is undefined. Call initialize first!\");\n              return this._modelClient;\n            }\n          }, {\n            key: \"modelStore\",\n            get: function get() {\n              if (!this._modelStore) throw new Error(\"ModelStore is undefined. Call initialize first!\");\n              return this._modelStore;\n            }\n          }, {\n            key: \"clientlibUtil\",\n            get: function get() {\n              if (!this._clientlibUtil) throw new Error(\"AuthoringUtils is undefined. Call initialize first!\");\n              return this._clientlibUtil;\n            }\n          }, {\n            key: \"initialize\",\n            value: function initialize(t) {\n              this.initializeAsync(t);\n              var _this$_modelPaths = this._modelPaths,\n                  e = _this$_modelPaths.rootModelURL,\n                  r = _this$_modelPaths.rootModelPath;\n              if (!e) throw new Error(\"Provide root model url to initialize ModelManager.\");\n              if (!r) throw new Error(\"No root modelpath resolved! This should never happen.\");\n              return this._initPromise;\n            }\n          }, {\n            key: \"initializeAsync\",\n            value: function initializeAsync(t) {\n              this.destroy();\n\n              var e = this._toModelConfig(t),\n                  r = e && e.model;\n\n              this._initializeFields(e), this._initPromise = this._attachAEMLibraries();\n              var i = this._modelPaths.rootModelPath;\n              this._modelStore = new v(i, r), i && this._setInitializationPromise(i), function () {\n                if (T() && \"undefined\" != typeof window) {\n                  var _t12 = window.history.pushState,\n                      _e6 = window.history.replaceState;\n                  window.addEventListener(\"popstate\", function (t) {\n                    var e;\n                    var r = null == t ? void 0 : t.target;\n                    S((null === (e = null == r ? void 0 : r.location) || void 0 === e ? void 0 : e.pathname) || null);\n                  }), window.history.pushState = function (e, r, i) {\n                    return S(i), _t12.apply(history, [e, r, i]);\n                  }, window.history.replaceState = function (t, r, i) {\n                    return S(i || null), _e6.apply(history, [t, r, i]);\n                  };\n                }\n              }();\n            }\n          }, {\n            key: \"_attachAEMLibraries\",\n            value: function _attachAEMLibraries() {\n              if (!C.isBrowser()) return Promise.resolve();\n              var t = this.clientlibUtil.getAemLibraries();\n              if (!t.hasChildNodes()) return Promise.resolve();\n              var e;\n              var r = new Promise(function (t) {\n                e = t;\n              });\n              return this.clientlibUtil.setOnLoadCallback(t, e), window.document.head.appendChild(t), r;\n            }\n          }, {\n            key: \"_initializeFields\",\n            value: function _initializeFields(t) {\n              this._listenersMap = {}, this._fetchPromises = {}, this._initPromise = null, this._modelClient = t && t.modelClient || new D(), this._errorPageRoot = t && t.errorPageRoot || void 0, this._editorClient = new R(this), this._clientlibUtil = new y(this.modelClient.apiHost), this._modelPaths = this._getPathsForModel(t);\n            }\n          }, {\n            key: \"_getPathsForModel\",\n            value: function _getPathsForModel(t) {\n              var e = null == t ? void 0 : t.path,\n                  r = C.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL),\n                  i = C.internalize(r),\n                  n = this._isRemoteApp() ? \"\" : C.getCurrentPathname(),\n                  o = n && C.sanitize(n) || \"\",\n                  a = e || i || o;\n              return {\n                currentPathname: n,\n                metaPropertyModelURL: i,\n                rootModelURL: a,\n                rootModelPath: C.sanitize(a) || \"\"\n              };\n            }\n          }, {\n            key: \"_fetchPageModelFromStore\",\n            value: function _fetchPageModelFromStore() {\n              var t = this.modelStore.getData();\n              return O(t), t;\n            }\n          }, {\n            key: \"_setInitializationPromise\",\n            value: function _setInitializationPromise(t) {\n              var _this2 = this;\n\n              var e = this._modelPaths.rootModelURL;\n              this._initPromise = this._initPromise.then(function () {\n                return _this2._checkDependencies();\n              }).then(function () {\n                var r = _this2.modelStore.getData(t);\n\n                return r && Object.keys(r).length > 0 ? (O(r), r) : e ? _this2._fetchData(e).then(function (e) {\n                  try {\n                    return _this2.modelStore.initialize(t, e), _this2._fetchActivePageModel(e) || _this2._fetchPageModelFromStore();\n                  } catch (t) {\n                    console.error(\"Error on initialization - \" + t);\n                  }\n                }) : void 0;\n              });\n            }\n          }, {\n            key: \"_fetchActivePageModel\",\n            value: function _fetchActivePageModel(t) {\n              var _this3 = this;\n\n              var _this$_modelPaths2 = this._modelPaths,\n                  e = _this$_modelPaths2.currentPathname,\n                  r = _this$_modelPaths2.metaPropertyModelURL,\n                  i = e && C.sanitize(e) || \"\";\n              if (e && i && !L(e) && (o = r, (n = e) && o && C.sanitize(n) !== C.sanitize(o)) && !function (t, e) {\n                var r = C.sanitize(e);\n                return !!r && !!(t && e && t[c.CHILDREN_PROP] && t[c.CHILDREN_PROP][r]);\n              }(t, e)) return this._fetchData(e).then(function (t) {\n                return _this3.modelStore.insertData(i, t), _this3._fetchPageModelFromStore();\n              }).catch(function (t) {\n                console.warn(\"caught\", t);\n              });\n              if (e && L(e)) return this._fetchPageModelFromStore();\n              if (!C.isBrowser()) throw new Error(\"Attempting to retrieve model data from a non-browser.\\n                Please provide the initial data with the property key model\");\n              var n, o;\n            }\n          }, {\n            key: \"rootPath\",\n            get: function get() {\n              return this.modelStore.rootPath;\n            }\n          }, {\n            key: \"getData\",\n            value: function getData(t) {\n              var _this4 = this;\n\n              var e = \"\",\n                  r = !1;\n              return \"string\" == typeof t ? e = t : t && (e = t.path || \"\", r = !!t.forceReload), (this._initPromise || Promise.resolve()).then(function () {\n                return _this4._checkDependencies();\n              }).then(function () {\n                if (!r) {\n                  var _t13 = _this4.modelStore.getData(e);\n\n                  if (_t13) return Promise.resolve(_t13);\n                }\n\n                if (C.isItem(e)) {\n                  var _this4$_getParentPage = _this4._getParentPage(e),\n                      _t14 = _this4$_getParentPage.pageData,\n                      _r5 = _this4$_getParentPage.pagePath;\n\n                  if (!_t14) return _this4._fetchData(_r5).then(function (t) {\n                    return _this4._storeData(_r5, t), _this4.modelStore.getData(e);\n                  });\n                }\n\n                return _this4._fetchData(e).then(function (t) {\n                  return _this4._storeData(e, t);\n                });\n              });\n            }\n          }, {\n            key: \"_fetchData\",\n            value: function _fetchData(t) {\n              var _this5 = this;\n\n              if (Object.prototype.hasOwnProperty.call(this._fetchPromises, t)) return this._fetchPromises[t];\n              if (this.modelClient) return new Promise(function (e, r) {\n                var i = _this5.modelClient.fetch(_this5._toModelPath(t));\n\n                _this5._fetchPromises[t] = i, i.then(function (r) {\n                  delete _this5._fetchPromises[t], _this5._isRemoteApp() && O(r), e(r);\n                }).catch(function (i) {\n                  if (delete _this5._fetchPromises[t], void 0 !== _this5._errorPageRoot) {\n                    var _n5 = \"string\" != typeof i && i.response ? i.response.status : \"500\",\n                        _o3 = _this5._errorPageRoot + _n5 + \".model.json\";\n\n                    -1 === t.indexOf(c.JCR_CONTENT) && t !== _o3 ? _this5._fetchData(_o3).then(function (r) {\n                      r[c.PATH_PROP] = C.sanitize(t) || t, e(r);\n                    }).catch(r) : r(i);\n                  } else r(i);\n                });\n              });\n              throw new Error(\"ModelClient not initialized!\");\n            }\n          }, {\n            key: \"_notifyListeners\",\n            value: function _notifyListeners(t) {\n              if (t = C.adaptPagePath.call(this, t), !this._listenersMap) throw new Error(\"ListenersMap is undefined.\");\n              var e = this._listenersMap[t];\n              e && e.length && e.forEach(function (r) {\n                try {\n                  r();\n                } catch (r) {\n                  console.error(\"Error in listener \".concat(e, \" at path \").concat(t, \": \").concat(r));\n                }\n              });\n            }\n          }, {\n            key: \"addListener\",\n            value: function addListener(t, e) {\n              var r;\n              if (!t || \"string\" != typeof t || \"function\" != typeof e) return;\n              var i = C.adaptPagePath(t, null === (r = this.modelStore) || void 0 === r ? void 0 : r.rootPath);\n              this._listenersMap[i] = this._listenersMap[t] || [], this._listenersMap[i].push(e);\n            }\n          }, {\n            key: \"removeListener\",\n            value: function removeListener(t, e) {\n              var r;\n              if (!t || \"string\" != typeof t || \"function\" != typeof e) return;\n              var i = C.adaptPagePath(t, null === (r = this.modelStore) || void 0 === r ? void 0 : r.rootPath),\n                  n = this._listenersMap[i];\n\n              if (n) {\n                var _t15 = n.indexOf(e);\n\n                -1 !== _t15 && n.splice(_t15, 1);\n              }\n            }\n          }, {\n            key: \"destroy\",\n            value: function destroy() {\n              this._modelClient && this._modelClient.destroy && this._modelClient.destroy(), this._modelStore && this._modelStore.destroy && this._modelStore.destroy(), this._editorClient && this._editorClient.destroy && this._editorClient.destroy();\n            }\n          }, {\n            key: \"_storeData\",\n            value: function _storeData(t, e) {\n              var r = !1;\n              return this._modelStore && (r = C.isItem(t)), e && Object.keys(e).length > 0 && (this.modelStore.insertData(t, e), this._notifyListeners(t)), r || this._notifyListeners(\"\"), e;\n            }\n          }, {\n            key: \"_toModelPath\",\n            value: function _toModelPath(t) {\n              var e = C.addSelector(t, \"model\");\n              return e = C.addExtension(e, \"json\"), e = C.externalize(e), C.makeAbsolute(e);\n            }\n          }, {\n            key: \"_toModelConfig\",\n            value: function _toModelConfig(t) {\n              return t && \"string\" == typeof t ? {\n                path: t\n              } : t || {};\n            }\n          }, {\n            key: \"_checkDependencies\",\n            value: function _checkDependencies() {\n              return this.modelClient ? this.modelStore ? Promise.resolve() : Promise.reject(\"No ModelManager registered.\") : Promise.reject(\"No ModelClient registered.\");\n            }\n          }, {\n            key: \"_getParentPage\",\n            value: function _getParentPage(t) {\n              var e = C.splitPageContentPaths(t),\n                  r = (null == e ? void 0 : e.pagePath) || \"\";\n              return {\n                pageData: this.modelStore.getData(r),\n                pagePath: r\n              };\n            }\n          }, {\n            key: \"_isRemoteApp\",\n            value: function _isRemoteApp() {\n              var t = this.modelClient.apiHost || \"\";\n              return C.isBrowser() && t.length > 0 && C.getCurrentURL() !== t;\n            }\n          }]);\n\n          return _class;\n        }())();\n\n        var A = /*#__PURE__*/_createClass(function A() {\n          _classCallCheck(this, A);\n        });\n\n        function L(t) {\n          var e = function () {\n            var t = C.getMetaPropertyValue(s.PAGE_MODEL_ROUTE_FILTERS);\n            return t ? t.split(\",\") : [];\n          }();\n\n          for (var _r6 = 0, _i4 = e.length; _r6 < _i4; _r6++) {\n            if (new RegExp(e[_r6]).test(t)) return !0;\n          }\n\n          return !1;\n        }\n\n        function T() {\n          if (!C.isBrowser()) return !1;\n          var t = C.getMetaPropertyValue(s.PAGE_MODEL_ROUTER);\n          return !t || A.DISABLED !== t;\n        }\n\n        function S(t) {\n          if (!T()) return;\n\n          var e = function (t) {\n            var e = t || window.location.pathname;\n            return C.sanitize(e);\n          }(t);\n\n          e && \"/\" !== e && !L(e) && function (t) {\n            w.getData({\n              path: t\n            }).then(function (t) {\n              C.dispatchGlobalCustomEvent(n.PAGE_MODEL_ROUTE_CHANGED, {\n                detail: {\n                  model: t\n                }\n              });\n            });\n          }(e);\n        }\n\n        A.DISABLED = \"disabled\", A.CONTENT_PATH = \"path\";\n      }\n    },\n        e = {};\n\n    function r(i) {\n      if (e[i]) return e[i].exports;\n      var n = e[i] = {\n        exports: {}\n      };\n      return t[i](n, n.exports, r), n.exports;\n    }\n\n    return r.n = function (t) {\n      var e = t && t.__esModule ? function () {\n        return t.default;\n      } : function () {\n        return t;\n      };\n      return r.d(e, {\n        a: e\n      }), e;\n    }, r.d = function (t, e) {\n      for (var i in e) {\n        r.o(e, i) && !r.o(t, i) && Object.defineProperty(t, i, {\n          enumerable: !0,\n          get: e[i]\n        });\n      }\n    }, r.o = function (t, e) {\n      return Object.prototype.hasOwnProperty.call(t, e);\n    }, r.r = function (t) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(t, \"__esModule\", {\n        value: !0\n      });\n    }, r(873);\n  }();\n});","map":{"version":3,"names":["t","e","exports","module","define","amd","aemSpaPageModelManager","self","TypeError","JSON","stringify","r","i","n","o","s","a","length","charCodeAt","l","lastIndexOf","slice","resolve","arguments","process","cwd","normalize","isAbsolute","join","relative","h","c","d","u","p","_makeLong","dirname","basename","extname","format","dir","root","base","name","ext","parse","sep","delimiter","win32","posix","AEM_MODE","AuthoringUtils","y","Constants","ModelClient","D","ModelManager","w","PathUtils","C","PAGE_MODEL_INIT","PAGE_MODEL_LOADED","PAGE_MODEL_UPDATE","PAGE_MODEL_ROUTE_CHANGED","PAGE_MODEL_ROOT_URL","PAGE_MODEL_ROUTE_FILTERS","PAGE_MODEL_ROUTER","WCM_MODE","WCM_DATA_TYPE","TYPE_PROP","ITEMS_PROP","ITEMS_ORDER_PROP","PATH_PROP","CHILDREN_PROP","HIERARCHY_TYPE_PROP","JCR_CONTENT","EDIT","PREVIEW","DISABLED","JS","STYLESHEET","require","f","g","_","DEFAULT_SLING_MODEL_SELECTOR","DEFAULT_MODEL_JSON_EXTENSION","m","P","E","M","window","getCurrentPathname","match","index","internalize","sanitize","getContextPath","startsWith","replace","RegExp","isBrowser","document","head","querySelector","getAttribute","convertToModelUrl","getMetaPropertyValue","getCurrentPageModelUrl","pathname","indexOf","substr","URL","origin","_extractPathWithoutResource","_replaceExtension","search","split","shift","pop","location","href","dispatchEvent","CustomEvent","filter","substring","test","Boolean","makeRelative","forEach","makeAbsolute","concat","endsWith","splice","pagePath","itemPath","O","dispatchGlobalCustomEvent","detail","model","R","_modelManager","_windowListener","msg","_updateModel","console","error","addEventListener","cmd","path","data","getParentNodePath","modelStore","setData","_notifyListeners","removeData","getNodeName","key","insertData","value","log","dataMap","removeEventListener","_apiHost","Promise","reject","Error","fetch","credentials","then","status","json","response","catch","v","_data","_rootPath","initialize","_pageContentDelimiter","getData","Object","keys","splitPageContentPaths","_getPageData","_findItemData","warn","isItem","parent","prototype","hasOwnProperty","call","push","parentPath","subpath","_getStartStrings","trimStrings","rootPath","_apiDomain","createDocumentFragment","isRemoteApp","isEditMode","prependDomain","AUTHORING_LIBRARIES","CSS","META","append","generateScriptElements","generateLinkElements","generateMetaElements","querySelectorAll","onload","entries","createElement","setAttribute","content","appendChild","type","rel","src","async","getApiDomain","getWCMModeFromURL","isMode","getCurrentURL","searchParams","get","isPreviewMode","EDITOR_CLIENTLIB_PATH","_listenersMap","_fetchPromises","_modelPaths","_modelClient","_modelStore","_clientlibUtil","initializeAsync","rootModelURL","rootModelPath","_initPromise","destroy","_toModelConfig","_initializeFields","_attachAEMLibraries","_setInitializationPromise","T","history","pushState","replaceState","target","S","apply","clientlibUtil","getAemLibraries","hasChildNodes","setOnLoadCallback","modelClient","_errorPageRoot","errorPageRoot","_editorClient","apiHost","_getPathsForModel","_isRemoteApp","currentPathname","metaPropertyModelURL","_checkDependencies","_fetchData","_fetchActivePageModel","_fetchPageModelFromStore","L","forceReload","_getParentPage","pageData","_storeData","_toModelPath","adaptPagePath","addSelector","addExtension","externalize","A","CONTENT_PATH","__esModule","default","defineProperty","enumerable","Symbol","toStringTag"],"sources":["/home/pedro/Documentos/AEM-projects/reactapp/ui.frontend/node_modules/@adobe/aem-spa-page-model-manager/dist/aem-spa-page-model-manager.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.aemSpaPageModelManager=e():t.aemSpaPageModelManager=e()}(function(){try{return\"undefined\"!=typeof self}catch(t){return!1}}()?self:this,(function(){return(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,i=\"\",n=0,o=-1,s=0,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf(\"/\");if(l!==i.length-1){-1===l?(i=\"\",n=0):n=(i=i.slice(0,l)).length-1-i.lastIndexOf(\"/\"),o=a,s=0;continue}}else if(2===i.length||1===i.length){i=\"\",n=0,o=a,s=0;continue}e&&(i.length>0?i+=\"/..\":i=\"..\",n=2)}else i.length>0?i+=\"/\"+t.slice(o+1,a):i=t.slice(o+1,a),n=a-o-1;o=a,s=0}else 46===r&&-1!==s?++s:s=-1}return i}var i={resolve:function(){for(var t,i=\"\",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=process.cwd()),s=t),e(s),0!==s.length&&(i=s+\"/\"+i,n=47===s.charCodeAt(0))}return i=r(i,!n),n?i.length>0?\"/\"+i:\"/\":i.length>0?i:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var i=47===t.charCodeAt(0),n=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!i)).length||i||(t=\".\"),t.length>0&&n&&(t+=\"/\"),i?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var n=arguments[r];e(n),n.length>0&&(void 0===t?t=n:t+=\"/\"+n)}return void 0===t?\".\":i.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=i.resolve(t))===(r=i.resolve(r)))return\"\";for(var n=1;n<t.length&&47===t.charCodeAt(n);++n);for(var o=t.length,s=o-n,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var l=r.length-a,h=s<l?s:l,c=-1,d=0;d<=h;++d){if(d===h){if(l>h){if(47===r.charCodeAt(a+d))return r.slice(a+d+1);if(0===d)return r.slice(a+d)}else s>h&&(47===t.charCodeAt(n+d)?c=d:0===d&&(c=0));break}var u=t.charCodeAt(n+d);if(u!==r.charCodeAt(a+d))break;47===u&&(c=d)}var p=\"\";for(d=n+c+1;d<=o;++d)d!==o&&47!==t.charCodeAt(d)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(a+c):(a+=c,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),i=47===r,n=-1,o=!0,s=t.length-1;s>=1;--s)if(47===(r=t.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?i?\"/\":\".\":i&&1===n?\"//\":t.slice(0,n)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var i,n=0,o=-1,s=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var a=r.length-1,l=-1;for(i=t.length-1;i>=0;--i){var h=t.charCodeAt(i);if(47===h){if(!s){n=i+1;break}}else-1===l&&(s=!1,l=i+1),a>=0&&(h===r.charCodeAt(a)?-1==--a&&(o=i):(a=-1,o=l))}return n===o?o=l:-1===o&&(o=t.length),t.slice(n,o)}for(i=t.length-1;i>=0;--i)if(47===t.charCodeAt(i)){if(!s){n=i+1;break}}else-1===o&&(s=!1,o=i+1);return-1===o?\"\":t.slice(n,o)},extname:function(t){e(t);for(var r=-1,i=0,n=-1,o=!0,s=0,a=t.length-1;a>=0;--a){var l=t.charCodeAt(a);if(47!==l)-1===n&&(o=!1,n=a+1),46===l?-1===r?r=a:1!==s&&(s=1):-1!==r&&(s=-1);else if(!o){i=a+1;break}}return-1===r||-1===n||0===s||1===s&&r===n-1&&r===i+1?\"\":t.slice(r,n)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,i=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+i:r+\"/\"+i:i}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var i,n=t.charCodeAt(0),o=47===n;o?(r.root=\"/\",i=1):i=0;for(var s=-1,a=0,l=-1,h=!0,c=t.length-1,d=0;c>=i;--c)if(47!==(n=t.charCodeAt(c)))-1===l&&(h=!1,l=c+1),46===n?-1===s?s=c:1!==d&&(d=1):-1!==s&&(d=-1);else if(!h){a=c+1;break}return-1===s||-1===l||0===d||1===d&&s===l-1&&s===a+1?-1!==l&&(r.base=r.name=0===a&&o?t.slice(1,l):t.slice(a,l)):(0===a&&o?(r.name=t.slice(1,s),r.base=t.slice(1,l)):(r.name=t.slice(a,s),r.base=t.slice(a,l)),r.ext=t.slice(s,l)),a>0?r.dir=t.slice(0,a-1):o&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};i.posix=i,t.exports=i},873:(t,e,r)=>{r.r(e),r.d(e,{AEM_MODE:()=>l,AuthoringUtils:()=>y,Constants:()=>c,ModelClient:()=>D,ModelManager:()=>w,PathUtils:()=>C});class i{constructor(){}}i.PAGE_MODEL_INIT=\"cq-pagemodel-init\",i.PAGE_MODEL_LOADED=\"cq-pagemodel-loaded\",i.PAGE_MODEL_UPDATE=\"cq-pagemodel-update\",i.PAGE_MODEL_ROUTE_CHANGED=\"cq-pagemodel-route-changed\";const n=i;class o{constructor(){}}o.PAGE_MODEL_ROOT_URL=\"cq:pagemodel_root_url\",o.PAGE_MODEL_ROUTE_FILTERS=\"cq:pagemodel_route_filters\",o.PAGE_MODEL_ROUTER=\"cq:pagemodel_router\",o.WCM_MODE=\"cq:wcmmode\",o.WCM_DATA_TYPE=\"cq:datatype\";const s=o;class a{constructor(){}}var l,h;a.TYPE_PROP=\":type\",a.ITEMS_PROP=\":items\",a.ITEMS_ORDER_PROP=\":itemsOrder\",a.PATH_PROP=\":path\",a.CHILDREN_PROP=\":children\",a.HIERARCHY_TYPE_PROP=\":hierarchyType\",a.JCR_CONTENT=\"jcr:content\",function(t){t.EDIT=\"edit\",t.PREVIEW=\"preview\",t.DISABLED=\"disabled\"}(l||(l={})),function(t){t.JS=\"script\",t.STYLESHEET=\"stylesheet\"}(h||(h={}));const c=a,d=require(\"clone\");var u=r.n(d),p=r(470);const f=require(\"url\");var g=r.n(f);class _{constructor(){}}_.DEFAULT_SLING_MODEL_SELECTOR=\"model\",_.DEFAULT_MODEL_JSON_EXTENSION=`.${_.DEFAULT_SLING_MODEL_SELECTOR}.json`;const m=_,P=/(?:\\/)(?:content|apps|libs|etc|etc.clientlibs|conf|mnt\\/overlay)(?:\\/)/,E=`(.+)/${c.JCR_CONTENT}/(.+)`,M=\"http://dummy\";class C{static isBrowser(){return\"undefined\"!=typeof window}static getContextPath(t){const e=t||this.getCurrentPathname();if(!e)return\"\";const r=e.match(P),i=null===r?-1:r.index||-1;return i>0?e.slice(0,i):\"\"}static adaptPagePath(t,e){if(!t)return\"\";const r=C.internalize(t);return e&&r===C.sanitize(e)?\"\":r}static externalize(t){const e=this.getContextPath();return t.startsWith(e)?t:`${e}${t}`}static internalize(t){if(!t||\"string\"!=typeof t)return\"\";const e=this.getContextPath();return t.replace(new RegExp(`^${e}/`),\"/\")}static getMetaPropertyValue(t){let e=null;if(this.isBrowser()){const r=document.head.querySelector(`meta[property=\"${t}\"]`);e=r?r.getAttribute(\"content\"):null}return e}static convertToModelUrl(t){return t&&t.replace&&t.replace(/\\.htm(l)?$/,m.DEFAULT_MODEL_JSON_EXTENSION)}static getCurrentPageModelUrl(){const t=this.getCurrentPathname();let e=null;return t&&(e=this.convertToModelUrl(t)||null),e}static getModelUrl(t){if(t&&t.replace)return this.convertToModelUrl(t);return this.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL)||this.getCurrentPageModelUrl()}static sanitize(t){if(!t||\"string\"!=typeof t)return null;let e=g().parse(t,!1,!0).pathname;if(e){e=this.internalize(e);const t=e.indexOf(\".\");t>-1&&(e=e.substr(0,t)),e=(0,p.normalize)(e)}return e}static addExtension(t,e){if(!e||e.length<1)return t;if(e.startsWith(\".\")||(e=\".\"+e),!t||t.length<1||t.indexOf(e)>-1)return t;let r=this.normalize(t);const i=new URL(r,M);let n=this.sanitize(i.pathname);n=i.origin===M?n:i.origin+n;let o=this._extractPathWithoutResource(i.pathname);return o=this._replaceExtension(o,e),r=(n+\".\"+o+i.search).replace(/\\.\\./g,\".\"),r}static _extractPathWithoutResource(t){const e=t.split(\".\");return e.shift(),e.join(\".\")}static _replaceExtension(t,e){if(t.length<1)return e;const r=t.split(\"/\"),i=r[0].split(\".\");let n=i.pop();n=n?n.replace(/htm(l)?/,\"\"):\"\";let o=i.join(\".\")+\".\"+n+e;return r.shift(),r.length>0&&(o+=r.join(\"/\")),o}static addSelector(t,e){if(!e||e.length<1)return t;if(e.startsWith(\".\")||(e=\".\"+e),!t||t.length<1||t.indexOf(e)>-1)return t;const r=t.indexOf(\".\")||t.length;return r<0?t+e:t.slice(0,r)+e+t.slice(r,t.length)}static getCurrentPathname(){return this.isBrowser()?window.location.pathname:null}static getCurrentURL(){return this.isBrowser()?window.location.href:\"\"}static dispatchGlobalCustomEvent(t,e){this.isBrowser()&&window.dispatchEvent(new CustomEvent(t,e))}static join(t){return t?this.normalize(t.filter((t=>t)).join(\"/\")):\"\"}static normalize(t){return t?t.replace(/\\/+/g,\"/\"):\"\"}static makeAbsolute(t){return t&&\"string\"==typeof t?t.startsWith(\"/\")?t:\"/\"+t:\"\"}static makeRelative(t){return t&&\"string\"==typeof t?t.startsWith(\"/\")?t.slice(1):t:\"\"}static getParentNodePath(t){if(t&&t.length>0){const e=t.lastIndexOf(\"/\")+1;if(e<t.length)return t.substring(0,e-1)}return null}static isItem(t){return new RegExp(E).test(t)}static getNodeName(t){return(\"string\"==typeof t?t.replace(/\\/+/g,\"/\").split(/\\//).filter(Boolean):[]).pop()||null}static subpath(t,e){if(!t)return\"\";const r=C.makeRelative(t).split(\"/\"),i=C.makeRelative(e).split(\"/\");if(r.length<i.length)return t;let n;for(n=0;n<i.length&&r[n]===i[n];++n);return n===i.length?r.slice(n).join(\"/\"):t}static splitByDelimitators(t,e){let r=[t];return e.forEach((t=>{let e=[];const i=C.normalize(C.makeAbsolute(t)+\"/\");r.forEach((r=>{if(e=e.concat(r.split(i)),r.endsWith(t)){const r=e.splice(e.length-1,1)[0];r!==t&&(e=e.concat(r.split(C.makeAbsolute(t))))}e=e.filter((t=>t))})),r=e})),r}static _getJCRPath(t,e){return[t,c.JCR_CONTENT,e].join(\"/\")}static splitPageContentPaths(t){if(!t&&\"string\"!=typeof t)return;const e=t.split(`/${c.JCR_CONTENT}/`),r={pagePath:e[0]};return e.length>1&&(r.itemPath=e[1]),r}static trimStrings(t,e){return e.forEach((e=>{for(;t.startsWith(e);)t=C.makeRelative(t.slice(e.length));for(;t.endsWith(e);)(t=t.slice(0,t.length-e.length)).endsWith(\"/\")&&(t=t.slice(0,t.length-1))})),t}static _getStartStrings(t,e){let r=\"\";return e.forEach((e=>{for(;t.startsWith(e);)t=C.makeRelative(t.slice(e.length)),r=`${r}/${e}`})),C.makeRelative(r)}static toAEMPath(t,e,r){if(window.location.origin===e){const e=`(/editor.html)?(/content/${r=r.replace(/^\\/|\\/$/g,\"\")})?`;if(t.indexOf(e)<0)return`${e}${t}(.html)?`}return t}}function O(t){C.dispatchGlobalCustomEvent(n.PAGE_MODEL_LOADED,{detail:{model:u()(t)}})}class R{constructor(t){this._modelManager=t,this._windowListener=t=>{t&&t.detail&&t.detail.msg?this._updateModel(t.detail.msg):console.error(\"EditorService.js\",\"No message passed to cq-pagemodel-update\",t)},C.isBrowser()&&window.addEventListener(n.PAGE_MODEL_UPDATE,this._windowListener)}_updateModel(t){if(!t||!t.cmd||!t.path)return void console.error(\"PageModelManager.js\",\"Not enough data received to update the page model\");const e=t.path,r=t.cmd,i=u()(t.data);let n,o,s;const a=C.getParentNodePath(e);switch(r){case\"replace\":this._modelManager.modelStore.setData(e,i),this._modelManager._notifyListeners(e);break;case\"delete\":this._modelManager.modelStore.removeData(e),a&&this._modelManager._notifyListeners(a);break;case\"insertBefore\":s=!0;case\"insertAfter\":n=C.getNodeName(e),a&&(o=a+\"/\"+i.key,this._modelManager.modelStore.insertData(o,i.value,n,s),this._modelManager._notifyListeners(a));break;default:console.log(\"EditorClient\",\"unsupported command:\",r)}O(this._modelManager.modelStore.dataMap)}destroy(){C.isBrowser()&&window.removeEventListener(n.PAGE_MODEL_UPDATE,this._windowListener)}}class D{constructor(t){this._apiHost=t||null}get apiHost(){return this._apiHost}fetch(t){if(!t){const e=\"Fetching model rejected for path: \"+t;return Promise.reject(new Error(e))}const e=this._apiHost||\"\";return fetch(`${e}${t}`,{credentials:\"same-origin\"}).then((t=>{if(t.status>=200&&t.status<300)return t.json();throw{response:t}})).catch((t=>Promise.reject(t)))}destroy(){this._apiHost=null}}class v{constructor(t,e){this._data=null,this._rootPath=null,this._data={},t&&this.initialize(t,e||{}),this._pageContentDelimiter=[c.JCR_CONTENT]}initialize(t,e){e&&(this._data=e),this._rootPath=t}get rootPath(){return this._rootPath||\"\"}get dataMap(){return this._data}setData(t,e={}){const r=C.getNodeName(t);if(r){const i=this.getData(C.getParentNodePath(t),!1);if(i&&i[c.ITEMS_PROP]){const t=u()(e),n=i[c.ITEMS_PROP]||{};n[r]&&Object.keys(n[r]).forEach((e=>t.value[e]=t.value[e]||\"\")),n[r]=t.value,i[c.ITEMS_PROP]=n}}}getData(t,e=!0){if(!t&&\"string\"!=typeof t)return e?u()(this._data):this._data;if(t===this._rootPath||t===`${this._rootPath}/${c.JCR_CONTENT}`)return e?u()(this._data):this._data;const r=C.splitPageContentPaths(t);if(r){const t=this._getPageData(r.pagePath);if(!t||!r.itemPath)return e?u()(t):t;const i=this._findItemData(r.itemPath,t);if(i)return e?u()(i.data):i.data}}insertData(t,e,r,i=!1){if(e=u()(e),!t)return void console.warn(\"No path provided for data: \"+e);if(!C.isItem(t)&&this._data)return this._data[c.CHILDREN_PROP]||(this._data[c.CHILDREN_PROP]={}),void(this._data[c.CHILDREN_PROP][t]=e);const n=C.splitPageContentPaths(t);if(n&&n.itemPath){const t=this._getPageData(n.pagePath),o=this._findItemData(n.itemPath,t).parent||t||this._data,s=C.getNodeName(n.itemPath);if(null!=s&&o&&Object.prototype.hasOwnProperty.call(o,c.ITEMS_PROP)){const t=o[c.ITEMS_PROP];if(t){t[s]=e;const n=o[c.ITEMS_ORDER_PROP];if(null!=n&&n.length>0&&null!=r){const t=n.indexOf(r);t>-1?n.splice(i?t:t+1,0,s):n.push(s)}}}}}removeData(t){if(!t)return null;if(!C.isItem(t)&&this._data&&this._data[c.CHILDREN_PROP])return delete this._data[c.CHILDREN_PROP][t],null;const e=C.splitPageContentPaths(t);if(e&&e.itemPath){const t=this._getPageData(e.pagePath),r=this._findItemData(e.itemPath,t);if(r.data&&r&&r.parent&&Object.prototype.hasOwnProperty.call(r.parent,c.ITEMS_PROP)){const{parent:t}=r,i=t[c.ITEMS_PROP],n=C.getNodeName(e.itemPath);if(n){i&&delete i[n],delete r.data,delete r.parent;const e=t[c.ITEMS_ORDER_PROP];if(e&&e.length>0){const t=e.indexOf(n);e.splice(t,1)}return r.parentPath?r.parentPath:null}}}return console.warn(`Item for path ${t} was not found! Nothing to remove then.`),null}destroy(){this._data=null,this._rootPath=null,this._pageContentDelimiter=null}_findItemData(t,e=this._data,r=null,i=\"\"){const n={parent:r,parentPath:i};if(!e)throw new Error(\"Assertion error: No data provided. This should never happen.\");const o=e[c.ITEMS_PROP];if(!o)return n;for(const e in o){if(!Object.prototype.hasOwnProperty.call(o,e))continue;const r=o[e];if(e===t)return n.data=o[e],n.key=e,n;{let n=C.subpath(t,e);if(!this._pageContentDelimiter)throw new Error(\"_pageContentDelimiter not set. this should never happen as its set in constructor.\");{const o=C._getStartStrings(n,this._pageContentDelimiter),s=C.join([i,e,o]);if(n=C.trimStrings(n,this._pageContentDelimiter),n!==t){const t=this._findItemData(n,r,r,s);if(t)return t}}}}return n}_getPageData(t){if(!this._data)return;if(\"\"===t||t===this._data[c.PATH_PROP]||t===this.rootPath)return this._data;const e=this._data[c.CHILDREN_PROP];return e&&e[t]}}class y{constructor(t){this._apiDomain=t}getApiDomain(){return this._apiDomain}getAemLibraries(){const t=document.createDocumentFragment();if(!y.isRemoteApp()||!y.isEditMode())return t;const e=this.prependDomain(y.AUTHORING_LIBRARIES.JS),r=this.prependDomain(y.AUTHORING_LIBRARIES.CSS),i=y.AUTHORING_LIBRARIES.META;return t.append(this.generateScriptElements(e)),t.append(this.generateLinkElements(r)),t.append(this.generateMetaElements(i)),t}setOnLoadCallback(t,e){const r=t.querySelectorAll(\"script\");r.length?r[r.length-1].onload=()=>{e()}:e()}generateMetaElements(t){const e=document.createDocumentFragment();return Object.entries(t).forEach((t=>{const[r,i]=t,n=document.createElement(\"meta\");n.setAttribute(\"property\",r),n.content=i,e.appendChild(n)})),e}generateLinkElements(t){const e=document.createDocumentFragment();return t.forEach((t=>{const r=document.createElement(\"link\");r.type=\"text/css\",r.rel=\"stylesheet\",r.href=t,e.appendChild(r)})),e}generateScriptElements(t){const e=document.createDocumentFragment();return t.forEach((t=>{const r=document.createElement(\"script\");r.type=\"text/javascript\",r.src=t,r.async=!1,e.appendChild(r)})),e}static isMode(t){const e=C.getMetaPropertyValue(s.WCM_MODE)===t,r=C.isBrowser()&&y.getWCMModeFromURL()===t;return e||r}static isEditMode(){return y.isMode(l.EDIT)}static isPreviewMode(){return y.isMode(l.PREVIEW)}static isRemoteApp(){try{return!!new URL(C.getCurrentURL()).searchParams.get(s.WCM_MODE)}catch(t){}return!1}static getWCMModeFromURL(){let t;try{return t=new URL(C.getCurrentURL()),t.searchParams.get(s.WCM_MODE)||\"\"}catch(t){}return\"\"}prependDomain(t){const e=[],r=this.getApiDomain();return t.forEach((t=>{e.push(`${r||\"\"}${t}`)})),e}static isInEditor(){return y.isEditMode()||y.isPreviewMode()||y.isRemoteApp()}}y.EDITOR_CLIENTLIB_PATH=\"/etc.clientlibs/cq/gui/components/authoring/editors/clientlibs/\",y.AUTHORING_LIBRARIES={JS:[y.EDITOR_CLIENTLIB_PATH+\"internal/messaging.js\",y.EDITOR_CLIENTLIB_PATH+\"utils.js\",y.EDITOR_CLIENTLIB_PATH+\"internal/page.js\",y.EDITOR_CLIENTLIB_PATH+\"internal/pagemodel/messaging.js\"],CSS:[y.EDITOR_CLIENTLIB_PATH+\"internal/page.css\"],META:{[s.WCM_DATA_TYPE]:\"JSON\"}};const w=new class{constructor(){this._listenersMap={},this._fetchPromises={},this._modelPaths={}}get modelClient(){if(!this._modelClient)throw new Error(\"ModelClient is undefined. Call initialize first!\");return this._modelClient}get modelStore(){if(!this._modelStore)throw new Error(\"ModelStore is undefined. Call initialize first!\");return this._modelStore}get clientlibUtil(){if(!this._clientlibUtil)throw new Error(\"AuthoringUtils is undefined. Call initialize first!\");return this._clientlibUtil}initialize(t){this.initializeAsync(t);const{rootModelURL:e,rootModelPath:r}=this._modelPaths;if(!e)throw new Error(\"Provide root model url to initialize ModelManager.\");if(!r)throw new Error(\"No root modelpath resolved! This should never happen.\");return this._initPromise}initializeAsync(t){this.destroy();const e=this._toModelConfig(t),r=e&&e.model;this._initializeFields(e),this._initPromise=this._attachAEMLibraries();const{rootModelPath:i}=this._modelPaths;this._modelStore=new v(i,r),i&&this._setInitializationPromise(i),function(){if(T()&&\"undefined\"!=typeof window){const t=window.history.pushState,e=window.history.replaceState;window.addEventListener(\"popstate\",(t=>{var e;const r=null==t?void 0:t.target;S((null===(e=null==r?void 0:r.location)||void 0===e?void 0:e.pathname)||null)})),window.history.pushState=(e,r,i)=>(S(i),t.apply(history,[e,r,i])),window.history.replaceState=(t,r,i)=>(S(i||null),e.apply(history,[t,r,i]))}}()}_attachAEMLibraries(){if(!C.isBrowser())return Promise.resolve();const t=this.clientlibUtil.getAemLibraries();if(!t.hasChildNodes())return Promise.resolve();let e;const r=new Promise((t=>{e=t}));return this.clientlibUtil.setOnLoadCallback(t,e),window.document.head.appendChild(t),r}_initializeFields(t){this._listenersMap={},this._fetchPromises={},this._initPromise=null,this._modelClient=t&&t.modelClient||new D,this._errorPageRoot=t&&t.errorPageRoot||void 0,this._editorClient=new R(this),this._clientlibUtil=new y(this.modelClient.apiHost),this._modelPaths=this._getPathsForModel(t)}_getPathsForModel(t){const e=null==t?void 0:t.path,r=C.getMetaPropertyValue(s.PAGE_MODEL_ROOT_URL),i=C.internalize(r),n=this._isRemoteApp()?\"\":C.getCurrentPathname(),o=n&&C.sanitize(n)||\"\",a=e||i||o;return{currentPathname:n,metaPropertyModelURL:i,rootModelURL:a,rootModelPath:C.sanitize(a)||\"\"}}_fetchPageModelFromStore(){const t=this.modelStore.getData();return O(t),t}_setInitializationPromise(t){const{rootModelURL:e}=this._modelPaths;this._initPromise=this._initPromise.then((()=>this._checkDependencies())).then((()=>{const r=this.modelStore.getData(t);return r&&Object.keys(r).length>0?(O(r),r):e?this._fetchData(e).then((e=>{try{return this.modelStore.initialize(t,e),this._fetchActivePageModel(e)||this._fetchPageModelFromStore()}catch(t){console.error(\"Error on initialization - \"+t)}})):void 0}))}_fetchActivePageModel(t){const{currentPathname:e,metaPropertyModelURL:r}=this._modelPaths,i=e&&C.sanitize(e)||\"\";if(e&&i&&!L(e)&&(o=r,(n=e)&&o&&C.sanitize(n)!==C.sanitize(o))&&!function(t,e){const r=C.sanitize(e);return!!r&&!!(t&&e&&t[c.CHILDREN_PROP]&&t[c.CHILDREN_PROP][r])}(t,e))return this._fetchData(e).then((t=>(this.modelStore.insertData(i,t),this._fetchPageModelFromStore()))).catch((t=>{console.warn(\"caught\",t)}));if(e&&L(e))return this._fetchPageModelFromStore();if(!C.isBrowser())throw new Error(\"Attempting to retrieve model data from a non-browser.\\n                Please provide the initial data with the property key model\");var n,o}get rootPath(){return this.modelStore.rootPath}getData(t){let e=\"\",r=!1;return\"string\"==typeof t?e=t:t&&(e=t.path||\"\",r=!!t.forceReload),(this._initPromise||Promise.resolve()).then((()=>this._checkDependencies())).then((()=>{if(!r){const t=this.modelStore.getData(e);if(t)return Promise.resolve(t)}if(C.isItem(e)){const{pageData:t,pagePath:r}=this._getParentPage(e);if(!t)return this._fetchData(r).then((t=>(this._storeData(r,t),this.modelStore.getData(e))))}return this._fetchData(e).then((t=>this._storeData(e,t)))}))}_fetchData(t){if(Object.prototype.hasOwnProperty.call(this._fetchPromises,t))return this._fetchPromises[t];if(this.modelClient)return new Promise(((e,r)=>{const i=this.modelClient.fetch(this._toModelPath(t));this._fetchPromises[t]=i,i.then((r=>{delete this._fetchPromises[t],this._isRemoteApp()&&O(r),e(r)})).catch((i=>{if(delete this._fetchPromises[t],void 0!==this._errorPageRoot){const n=\"string\"!=typeof i&&i.response?i.response.status:\"500\",o=this._errorPageRoot+n+\".model.json\";-1===t.indexOf(c.JCR_CONTENT)&&t!==o?this._fetchData(o).then((r=>{r[c.PATH_PROP]=C.sanitize(t)||t,e(r)})).catch(r):r(i)}else r(i)}))}));throw new Error(\"ModelClient not initialized!\")}_notifyListeners(t){if(t=C.adaptPagePath.call(this,t),!this._listenersMap)throw new Error(\"ListenersMap is undefined.\");const e=this._listenersMap[t];e&&e.length&&e.forEach((r=>{try{r()}catch(r){console.error(`Error in listener ${e} at path ${t}: ${r}`)}}))}addListener(t,e){var r;if(!t||\"string\"!=typeof t||\"function\"!=typeof e)return;const i=C.adaptPagePath(t,null===(r=this.modelStore)||void 0===r?void 0:r.rootPath);this._listenersMap[i]=this._listenersMap[t]||[],this._listenersMap[i].push(e)}removeListener(t,e){var r;if(!t||\"string\"!=typeof t||\"function\"!=typeof e)return;const i=C.adaptPagePath(t,null===(r=this.modelStore)||void 0===r?void 0:r.rootPath),n=this._listenersMap[i];if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}destroy(){this._modelClient&&this._modelClient.destroy&&this._modelClient.destroy(),this._modelStore&&this._modelStore.destroy&&this._modelStore.destroy(),this._editorClient&&this._editorClient.destroy&&this._editorClient.destroy()}_storeData(t,e){let r=!1;return this._modelStore&&(r=C.isItem(t)),e&&Object.keys(e).length>0&&(this.modelStore.insertData(t,e),this._notifyListeners(t)),r||this._notifyListeners(\"\"),e}_toModelPath(t){let e=C.addSelector(t,\"model\");return e=C.addExtension(e,\"json\"),e=C.externalize(e),C.makeAbsolute(e)}_toModelConfig(t){return t&&\"string\"==typeof t?{path:t}:t||{}}_checkDependencies(){return this.modelClient?this.modelStore?Promise.resolve():Promise.reject(\"No ModelManager registered.\"):Promise.reject(\"No ModelClient registered.\")}_getParentPage(t){const e=C.splitPageContentPaths(t),r=(null==e?void 0:e.pagePath)||\"\";return{pageData:this.modelStore.getData(r),pagePath:r}}_isRemoteApp(){const t=this.modelClient.apiHost||\"\";return C.isBrowser()&&t.length>0&&C.getCurrentURL()!==t}};class A{constructor(){}}function L(t){const e=function(){const t=C.getMetaPropertyValue(s.PAGE_MODEL_ROUTE_FILTERS);return t?t.split(\",\"):[]}();for(let r=0,i=e.length;r<i;r++)if(new RegExp(e[r]).test(t))return!0;return!1}function T(){if(!C.isBrowser())return!1;const t=C.getMetaPropertyValue(s.PAGE_MODEL_ROUTER);return!t||A.DISABLED!==t}function S(t){if(!T())return;const e=function(t){const e=t||window.location.pathname;return C.sanitize(e)}(t);e&&\"/\"!==e&&!L(e)&&function(t){w.getData({path:t}).then((t=>{C.dispatchGlobalCustomEvent(n.PAGE_MODEL_ROUTE_CHANGED,{detail:{model:t}})}))}(e)}A.DISABLED=\"disabled\",A.CONTENT_PATH=\"path\"}},e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(873)})()}));"],"mappings":"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"},"metadata":{},"sourceType":"script"}