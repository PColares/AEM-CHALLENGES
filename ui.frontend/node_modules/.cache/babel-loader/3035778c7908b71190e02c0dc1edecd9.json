{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */import React,{useState,useEffect,useRef}from'react';import{useHistory}from\"react-router-dom\";import{MapTo}from'@adobe/aem-react-editable-components';import uolBall from'../../assets/uol-ball.png';import TempIcon from\"../../assets/temp-icon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";require('./index.css');export var HomePage=function HomePage(_ref){var _ref$logoImage=_ref.logoImage,logoImage=_ref$logoImage===void 0?{}:_ref$logoImage,titleText1=_ref.titleText1,titleText2=_ref.titleText2,titleText3=_ref.titleText3,titleText4=_ref.titleText4,paragraphText1=_ref.paragraphText1,paragraphText2=_ref.paragraphText2,paragraphText3=_ref.paragraphText3,paragraphText4=_ref.paragraphText4,footerText=_ref.footerText,refreshText=_ref.refreshText,navigateButtonText=_ref.navigateButtonText,logoutText=_ref.logoutText;var maxSeconds=600;var refStatus=useRef();var _useState=useState(maxSeconds),_useState2=_slicedToArray(_useState,2),counter=_useState2[0],setCounter=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var date=new Date();var _useState7=useState({hours:date.getHours(),minutes:date.getMinutes()}),_useState8=_slicedToArray(_useState7,2),dateTime=_useState8[0],setDateTime=_useState8[1];var dayName=[\"domingo\",\"segunda-feira\",\"terça-feira\",\"quarta-feira\",\"quinta-feira\",\"sexta-feira\",\"sábado\"];var monName=[\"janeiro\",\"fevereiro\",\"março\",\"abril\",\"maio\",\"junho\",\"julho\",\"agosto\",\"setembro\",\"outubro\",\"novembro\",\"dezembro\"];var displayDate=dayName[date.getDay()]+\", \"+date.getDate()+\" de \"+monName[date.getMonth()]+\" de \"+date.getFullYear();var history=useHistory();var LoginRedirect=function LoginRedirect(){return history.push(\"/content/reactapp/us/en/login.html\");};var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://api.weatherapi.com/v1/current.json?key=91d0c33bbe064dc3bd0143610222306&q=Belém&aqi=no').then(function(response){if(response.status===200){return response.json();}}).then(function(data){setLocation(data);setData(data.location);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData();},[]);useEffect(function(){function tick(){setCounter(function(prevCounter){return prevCounter-1;});}refStatus.current=setInterval(function(){return tick();},1000);},[]);useEffect(function(){if(counter===0){LoginRedirect();}},[counter]);useEffect(function(){var timer=setInterval(function(){var date=new Date();setDateTime({hours:date.getHours(),minutes:date.getMinutes()});},1000);return function(){return clearInterval(timer);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header-item-1\",children:[/*#__PURE__*/_jsx(\"img\",{src:logoImage.src,alt:\"logo\",className:\"compasso-logo-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-container\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"clock\",children:[dateTime.hours,\":\",dateTime.minutes]}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:displayDate}),/*#__PURE__*/_jsx(\"span\",{children:TempIcon})]}),location&&data&&/*#__PURE__*/_jsxs(\"div\",{className:\"weather-api\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[data.name,\" - \",data.region]}),/*#__PURE__*/_jsxs(\"span\",{className:\"temperature\",children:[location.current.temp_c,\"\\xBA\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"body-container-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:uolBall,alt:\"logo\",className:\"background-image-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-title\",children:[\" \",titleText1]}),/*#__PURE__*/_jsx(\"p\",{children:paragraphText1}),/*#__PURE__*/_jsx(\"h1\",{children:titleText2}),/*#__PURE__*/_jsx(\"p\",{children:paragraphText2}),/*#__PURE__*/_jsx(\"h1\",{children:titleText3}),/*#__PURE__*/_jsx(\"p\",{children:paragraphText3}),/*#__PURE__*/_jsx(\"h1\",{children:titleText4}),/*#__PURE__*/_jsx(\"p\",{children:paragraphText4})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer-text\",children:[/*#__PURE__*/_jsx(\"span\",{children:footerText}),/*#__PURE__*/_jsx(\"div\",{className:\"vertical-line\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-refresh-container\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"refresh-text\",children:refreshText}),/*#__PURE__*/_jsxs(\"div\",{className:\"refresh-time\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"seconds\",children:counter}),/*#__PURE__*/_jsx(\"span\",{children:\"seconds\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"navigate\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setCounter(maxSeconds);},children:navigateButtonText})}),/*#__PURE__*/_jsx(\"div\",{className:\"logout\",children:/*#__PURE__*/_jsx(\"span\",{className:\"logout-button\",onClick:LoginRedirect,children:logoutText})})]})})]});};export default MapTo('reactapp/components/home-page')(HomePage);","map":{"version":3,"names":["React","useState","useEffect","useRef","useHistory","MapTo","uolBall","require","HomePage","logoImage","titleText1","titleText2","titleText3","titleText4","paragraphText1","paragraphText2","paragraphText3","paragraphText4","footerText","refreshText","navigateButtonText","logoutText","maxSeconds","refStatus","counter","setCounter","location","setLocation","data","setData","date","Date","hours","getHours","minutes","getMinutes","dateTime","setDateTime","dayName","monName","displayDate","getDay","getDate","getMonth","getFullYear","history","LoginRedirect","push","fetchData","fetch","then","response","status","json","tick","prevCounter","current","setInterval","timer","clearInterval","src","TempIcon","name","region","temp_c"],"sources":["C:/Users/Pedro/Documents/AEM/AEM-projects/reactapp/ui.frontend/src/components/HomePage/index.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { MapTo } from '@adobe/aem-react-editable-components';\r\nimport uolBall from '../../assets/uol-ball.png';\r\nimport TempIcon from '../../assets/temp-icon.svg';\r\n\r\nrequire('./index.css')\r\n\r\nexport const HomePage = ({\r\n    logoImage = {},\r\n    titleText1,\r\n    titleText2,\r\n    titleText3,\r\n    titleText4,\r\n    paragraphText1,\r\n    paragraphText2,\r\n    paragraphText3,\r\n    paragraphText4,\r\n    footerText,\r\n    refreshText,\r\n    navigateButtonText,\r\n    logoutText }) => {\r\n\r\n    let maxSeconds = 600;\r\n    let refStatus = useRef();\r\n    const [counter, setCounter] = useState(maxSeconds);\r\n    const [location, setLocation] = useState(null);\r\n    const [data, setData] = useState(null);\r\n    const date = new Date();\r\n    const [dateTime, setDateTime] = useState({\r\n        hours: date.getHours(),\r\n        minutes: date.getMinutes()\r\n    });\r\n    const dayName = [\"domingo\", \"segunda-feira\", \"terça-feira\", \"quarta-feira\", \"quinta-feira\", \"sexta-feira\", \"sábado\"];\r\n    const monName = [\"janeiro\", \"fevereiro\", \"março\", \"abril\", \"maio\", \"junho\", \"julho\", \"agosto\", \"setembro\", \"outubro\", \"novembro\", \"dezembro\"];\r\n    const displayDate = dayName[date.getDay()] + \", \" + date.getDate() + \" de \" + monName[date.getMonth()] + \" de \" + date.getFullYear();\r\n    const history = useHistory();\r\n\r\n    const LoginRedirect = () => {\r\n        return history.push(\"/content/reactapp/us/en/login.html\");\r\n    }\r\n\r\n    const fetchData = async () => {\r\n        await fetch('http://api.weatherapi.com/v1/current.json?key=91d0c33bbe064dc3bd0143610222306&q=Belém&aqi=no')\r\n            .then(response => { if (response.status === 200) { return response.json() } })\r\n            .then(data => {\r\n                setLocation(data)\r\n                setData(data.location)\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        function tick() {\r\n            setCounter(prevCounter => prevCounter - 1);\r\n        }\r\n        refStatus.current = setInterval(() => tick(), 1000);\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (counter === 0) {\r\n            LoginRedirect();\r\n        }\r\n    }, [counter])\r\n\r\n    useEffect(() => {\r\n        const timer = setInterval(() => {\r\n            const date = new Date();\r\n            setDateTime({\r\n                hours: date.getHours(),\r\n                minutes: date.getMinutes()\r\n            });\r\n        }, 1000);\r\n        return () => clearInterval(timer);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"home-container\">\r\n            <header className=\"header-item-1\">\r\n                <img src={logoImage.src} alt='logo' className=\"compasso-logo-2\" />\r\n                <div className=\"date-container\">\r\n                    <span className=\"clock\">{dateTime.hours}:{dateTime.minutes}</span>\r\n                    <span className='date'>{displayDate}</span>\r\n                    <span>{TempIcon}</span>\r\n                </div>\r\n                {location && data && (\r\n                    <div className=\"weather-api\">\r\n                        <span>{data.name} - {data.region}</span>\r\n                        <span className='temperature'>\r\n\r\n                            {location.current.temp_c}º\r\n                        </span>\r\n                    </div>\r\n                )}\r\n            </header >\r\n            <div className=\"body-container-2\">\r\n                <img src={uolBall} alt='logo' className=\"background-image-2\" />\r\n                <div className=\"text-container\">\r\n                    <h1 className='text-title'> {titleText1}</h1>\r\n                    <p>{paragraphText1}</p>\r\n                    <h1>{titleText2}</h1>\r\n                    <p>{paragraphText2}</p>\r\n                    <h1>{titleText3}</h1>\r\n                    <p>{paragraphText3}</p>\r\n                    <h1>{titleText4}</h1>\r\n                    <p>{paragraphText4}</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-container\">\r\n                <div className=\"footer-content\">\r\n                    <div className=\"footer-text\">\r\n                        <span>{footerText}</span>\r\n                        <div className=\"vertical-line\"></div>\r\n                    </div>\r\n                    <div className=\"footer-refresh-container\">\r\n                        <span className='refresh-text'>{refreshText}</span>\r\n                        <div className=\"refresh-time\">\r\n                            <span className=\"seconds\">{counter}</span>\r\n                            <span>seconds</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"navigate\">\r\n                        <span onClick={() => setCounter(maxSeconds)}>\r\n                            {navigateButtonText}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"logout\">\r\n                        <span className=\"logout-button\" onClick={LoginRedirect}>\r\n                            {logoutText}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default MapTo('reactapp/components/home-page')(HomePage);\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}